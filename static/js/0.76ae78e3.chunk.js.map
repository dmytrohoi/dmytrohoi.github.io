{"version":3,"sources":["../../../../src/icons/src/Icon.js","../node_modules/@iconify/react/dist/icon.js","../../../../src/icons/src/IconWrapper.js","../../node_modules/tslib/tslib.es6.js","../../node_modules/preact/dist/preact.module.js","../../src/i18n/en_US.ts","../../src/i18n/language.ts","../../src/view/base.tsx","../../src/util/getConfig.ts","../../src/util/id.ts","../../src/base.ts","../../src/view/htmlElement.tsx","../../src/util/html.ts","../../src/cell.ts","../../src/pipeline/processor.ts","../../src/row.ts","../../src/tabular.ts","../../src/util/array.ts","../../src/util/eventEmitter.ts","../../src/pipeline/filter/globalSearch.ts","../../src/operator/search.ts","../../src/util/className.ts","../../src/view/base/store.ts","../../src/view/plugin/search/store.ts","../../src/view/base/actions.ts","../../src/view/plugin/search/actions.ts","../../src/pipeline/filter/serverGlobalSearch.ts","../../src/view/plugin/search/search.tsx","../../src/util/debounce.ts","../../src/pipeline/limit/pagination.ts","../../src/pipeline/limit/serverPagination.ts","../../src/view/plugin/pagination.tsx","../../src/util/width.ts","../../src/view/table/shadow.tsx","../../src/plugin.ts","../../src/header.ts","../../src/util/string.ts","../../src/util/dispatcher.ts","../../src/storage/storage.ts","../../src/storage/memory.ts","../../src/util/log.ts","../../src/storage/server.ts","../../src/storage/storageUtils.ts","../../src/pipeline/pipeline.ts","../../src/pipeline/extractor/storage.ts","../../src/pipeline/transformer/arrayToTabular.ts","../../src/pipeline/initiator/server.ts","../../src/pipeline/transformer/storageResponseToArray.ts","../../src/pipeline/pipelineUtils.ts","../../src/types.ts","../../src/config.ts","../../src/view/table/td.tsx","../../node_modules/preact/hooks/dist/hooks.module.js","../../src/view/table/tr.tsx","../../src/view/table/messageRow.tsx","../../src/view/table/tbody.tsx","../../src/pipeline/sort/native.ts","../../src/view/plugin/sort/store.ts","../../src/view/plugin/sort/actions.ts","../../src/pipeline/sort/server.ts","../../src/view/plugin/sort/sort.tsx","../../src/view/table/th.tsx","../../src/view/table/thead.tsx","../../src/view/table/table.tsx","../../src/view/headerContainer.tsx","../../src/view/footerContainer.tsx","../../src/view/container.tsx","../../src/grid.ts","../../src/grid.tsx","../../src/wrapper.tsx","../../../../src/typography/src/Link.js","../../../../src/typography/src/Heading.js","../node_modules/evergreen-ui/node_modules/dom-helpers/util/inDOM.js","../../../../src/typography/src/Strong.js","../../../../src/badges/src/Badge.js","../../../../src/typography/src/Paragraph.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../../src/portal/src/Portal.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/react-transition-group/esm/config.js","../node_modules/react-transition-group/esm/TransitionGroupContext.js","../node_modules/react-transition-group/esm/Transition.js","../../../../src/stack/src/StackingContext.js","../../../../src/stack/src/Stack.js"],"names":["emptyObject","Icon","forwardRef","color","size","name","title","style","svgPaths16","svgPaths20","svgProps","theme","useTheme","pixelGridSize","paths","key","d","fillRule","viewBox","styles","useMemo","fill","is","ref","data-icon","width","height","PropTypes","isRequired","Object","defineProperty","exports","value","InlineIcon","obj","_react","require","__esModule","_typeof","Symbol","iterator","constructor","prototype","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","idCounter","unitsSplit","unitsTest","iconAttributes","defaultAttributes","left","top","rotate","hFlip","vFlip","SVG","icon","instance","Constructor","TypeError","_classCallCheck","this","_item","protoProps","staticProps","result","create","node","keys","forEach","indexOf","ratio","precision","Math","ceil","split","num","results","code","shift","isNumber","test","parseFloat","isNaN","push","join","body","match","prefix","regex","ids","strReplace","search","replace","subject","pos","slice","exec","Date","now","toString","random","id","newID","item","align","horizontal","vertical","transform","attributes","inline","box","inlineTop","inlineHeight","flip","toLowerCase","units","parseInt","round","tempValue","transformations","unshift","customWidth","customHeight","calculateDimension","verticalAlign","preserveAspectRatio","getAlignment","replaceIDs","addExtra","splitAttributes","data","getAttributes","svg","attr","component","iconProps","customAttributes","iconData","normalize","_key","xmlns","focusable","dangerouslySetInnerHTML","__html","createElement","_default","IconWrapper","memo","iconWithProps","ReactIs","Component","React","display","string","extendStatics","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","call","__extends","__","__assign","assign","t","s","n","arguments","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","__generator","f","y","g","_","label","sent","trys","ops","verb","throw","return","v","op","pop","__spreadArrays","il","r","k","a","j","jl","l","u","o","c","parentNode","removeChild","children","defaultProps","h","type","__k","__b","__e","__d","__c","__v","vnode","context","w","base","m","__r","debounceRendering","sort","some","__P","T","__n","ownerSVGElement","$","A","isArray","x","I","H","appendChild","nextSibling","insertBefore","setProperty","C","cssText","addEventListener","N","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","event","contextType","__E","render","L","sub","state","__h","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","z","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffed","nodeType","localName","document","createTextNode","createElementNS","childNodes","innerHTML","checked","current","unmount","componentWillUnmount","M","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","bind","setTimeout","placeholder","sortAsc","sortDesc","pagination","previous","navigate","page","pages","showing","of","to","loading","noRecordsFound","error","language","_language","_defaultLanguage","enUS","Translator","message","lang","splitted","val_1","getString","messageFormat","translated","args","translator","_super","_this","config","translate","generateID","_id","Base","HTMLElement","parentElement","content","html","ProcessorType","setData","Cell","outerHTML","cast","cells","Row","_cells","map","cell","rows","Tabular","_rows","_length","len","row","toArray","fromCells","EventEmitter","callbacks","listener","init","eventName","filter","_props","setProps","PipelineProcessor","validateProps","Function","emit","_process","GlobalSearchFilter","Filter","keyword","String","trim","tabular","selector","rowIndex","cellIndex","element","RegExp","className","reduce","prev","cur","classJoin","classNames","dispatcher","_state","getInitialState","register","_handle","BaseStore","action","handle","payload","newState","prevState","SearchStore","BaseActions","dispatch","SearchActions","ServerGlobalSearchFilter","ServerFilter","options","updates","url","actions","store","enabled","storeUpdatedFn","storeUpdated","on","searchProcessor","server","pipeline","Search","unregister","off","func","waitFor","timeout","onInput","onChange","debounceTimeout","clearTimeout","PaginationLimit","Number","limit","Error","Limit","start","end","ServerPaginationLimit","ServerLimit","total","Pagination","processor","setTotalFromTabularFn","setTotalFromTabular","setTotal","resetPageOnUpdate","setPage","onUpdateFn","onUpdate","totalRows","buttonsCount","maxCount","min","pagePivot","floor","Fragment","tabIndex","onClick","from","summary","role","renderSummary","prevButton","disabled","renderPages","nextButton","containerWidth","px","getWidth","shadowTable","columnIndex","tds","querySelectorAll","clientWidth","PluginPosition","ShadowTable","padding","margin","border","outline","resetStyle","header","columns","col","whiteSpace","paddingRight","td","tr","position","zIndex","visibility","tableLayout","head","_columns","Header","container","tempRef","autoWidth","el","fromRows","column","userConfig","fixedHeader","index","toUpperCase","fromHTMLTable","isValidElement","setID","setSort","setFixedHeader","_a","querySelector","th","_callbacks","_isDispatching","_isHandled","_isPending","_lastID","Dispatcher","callback","ii","_invokeCallback","_startDispatching","_stopDispatching","_pendingPayload","set","MemoryStorage","Logger","throwException","msg","format","console","warn","info","ServerStorage","response","ok","json","log","status","statusText","opts","fetch","handler","res","undefined","StorageUtils","storage","tableElementToArray","arr","parsedRow","cells_1","Node","TEXT_NODE","steps","Map","Pipeline","cache","lastProcessorIndexUpdated","priority","processorPropsUpdated","addProcessorByPriority","afterRegistered","subSteps","_steps","get","proc","newSubStep","first","second","concat","getSortedProcessorTypes","process","steps_1","findProcessorIndexByID","e_1","processorID","findIndex","processorIndex","setLastProcessorIndex","StorageExtractor","Extractor","ArrayToTabularTransformer","Transformer","arrayResponse","fromArray","ServerInitiator","Initiator","entries","serverStorageOptions","acc","StorageResponseToArrayTransformer","storageResponse","castData","PipelineUtils","Status","plugins","PluginManager","plugin","splice","order","PluginRenderer","list","Config","defaultConfig","_userConfig","updatedConfig","fromUserConfig","multiColumn","createFromUserConfig","createFromConfig","add","Footer","TD","formatter","eventEmitter","colSpan","handleClick","TR","getColumn","MessageRow","TBody","Loading","headerLength","Loaded","NativeSort","condition","direction","Sort","cellA","cellB","cmp","compare","sortedRows","compareWrapper","sorted","SortStore","multi","sortColumn","sortToggle","find","count","reset","remove","update","index_1","index_2","SortActions","ServerSort","sortProcessor","getOrCreateSortProcessor","updateStateFn","updateState","updateSortProcessorFn","currentColumn","sortedColumns","processorType","processors","getStepsByType","updateSortProcessor","preventDefault","stopPropagation","shiftKey","sortClassName","changeDirection","TH","isSortable","sortRef","which","onKeyDown","keyDown","THead","Table","table","__H","q","requestAnimationFrame","cancelAnimationFrame","useRef","isActive","HeaderContainer","headerRef","FooterContainer","footerRef","footer","configContext","Consumer","Provider","Container","processPipeline","adjustWidth","processPipelineFn","Grid","clearCache","createRef","Gridjs","wrapper","updateConfig","forceRender","React.createElement","gCreateRef","ReactWrapper","ReactDOM","parent","Link","restProps","themedClassName","cx","textDecoration","Text","rel","href","Heading","marginTop","defaultMarginTop","headingStyle","finalMarginTop","marginBottom","Box","default","window","module","Strong","fontWeight","boxSizing","paddingTop","paddingBottom","paddingLeft","borderRadius","textAlign","textTransform","Badge","isInteractive","isSolid","themeProps","appearance","bool","Paragraph","fontFamily","textStyle","_setPrototypeOf","_possibleConstructorReturn","self","ReferenceError","_getPrototypeOf","getPrototypeOf","Portal","subClass","superClass","portalContainer","createContext","Transition","_React$Component","initialStatus","appear","isMounting","enter","appearStatus","in","unmountOnExit","mountOnEnter","nextCallback","_inheritsLoose","_ref","_proto","updateStatus","prevProps","nextStatus","cancelNextCallback","getTimeouts","exit","mounting","performEnter","performExit","_this2","appearing","_ref2","nodeRef","findDOMNode","maybeNode","maybeAppearing","timeouts","enterTimeout","safeSetState","onEntered","onEnter","onEntering","onTransitionEnd","_this3","onExit","onExiting","onExited","cancel","nextState","setNextCallback","_this4","active","doesNotHaveTimeoutOrListener","addEndListener","_ref3","maybeNextCallback","_this$props","childProps","_objectWithoutPropertiesLoose","TransitionGroupContext","cloneElement","Children","only","noop","propTypes","UNMOUNTED","EXITED","ENTERING","ENTERED","EXITING","StackingOrder","Stack","STACKING_CONTEXT","previousValue","useContext","currentValue","nextValue","number"],"mappings":"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","file":"static/js/0.76ae78e3.chunk.js","sourcesContent":["import React, { forwardRef, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport Box from 'ui-box'\nimport { useTheme } from '../../theme'\n\n/**\n * This implementation is a remix of the Icon component in Blueprintjs:\n * https://github.com/palantir/blueprint/blob/813e93f2/packages/core/src/components/icon/icon.tsx#L15\n * Refer to the LICENSE for BlueprintJS here: https://github.com/palantir/blueprint/blob/develop/LICENSE\n */\n\nconst emptyObject = {}\n\nconst Icon = forwardRef(function Icon(\n  {\n    color = 'currentColor',\n    size = 16,\n    name,\n    title,\n    style = emptyObject,\n    svgPaths16,\n    svgPaths20,\n    ...svgProps\n  },\n  ref\n) {\n  const theme = useTheme()\n  const SIZE_STANDARD = 16\n  const SIZE_LARGE = 20\n\n  // Choose which pixel grid is most appropriate for given icon size\n  const pixelGridSize = size >= SIZE_LARGE ? SIZE_LARGE : SIZE_STANDARD\n  const pathStrings = pixelGridSize === SIZE_STANDARD ? svgPaths16 : svgPaths20\n  const paths = pathStrings.map((d, i) => (\n    // eslint-disable-next-line react/no-array-index-key\n    <path key={i} d={d} fillRule=\"evenodd\" />\n  ))\n\n  const viewBox = `0 0 ${pixelGridSize} ${pixelGridSize}`\n\n  const styles = useMemo(() => {\n    return color ? { ...style, fill: theme.getIconColor(color) } : style\n  }, [style, color])\n\n  return (\n    <Box\n      is=\"svg\"\n      ref={ref}\n      {...svgProps}\n      data-icon={name}\n      style={styles}\n      width={size}\n      height={size}\n      viewBox={viewBox}\n    >\n      {title && <title>{title}</title>}\n      {paths}\n    </Box>\n  )\n})\n\nIcon.propTypes = {\n  /**\n   * Color of icon. Equivalent to setting CSS `fill` property.\n   */\n  color: PropTypes.string,\n\n  /**\n   * Size of the icon, in pixels.\n   * Blueprint contains 16px and 20px SVG icon images,\n   * and chooses the appropriate resolution based on this prop.\n   */\n  size: PropTypes.number,\n\n  /**\n   * Name of the icon\n   */\n  name: PropTypes.string,\n\n  /**\n   * Description string.\n   * Browsers usually render this as a tooltip on hover, whereas screen\n   * readers will use it for aural feedback.\n   * By default, this is set to the icon's name for accessibility.\n   */\n  title: PropTypes.string,\n\n  /**\n   * CSS style properties.\n   */\n  style: PropTypes.object,\n\n  svgPaths16: PropTypes.arrayOf(PropTypes.string).isRequired,\n\n  svgPaths20: PropTypes.arrayOf(PropTypes.string).isRequired\n}\n\nexport default Icon\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.InlineIcon = exports.Icon = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * Unique id counter\n *\n * @type {number}\n */\nvar idCounter = 0;\n/**\n * Regex used to split dimensions\n *\n * @type {RegExp}\n * @private\n */\n\nvar unitsSplit = /(-?[0-9.]*[0-9]+[0-9.]*)/g;\nvar unitsTest = /^-?[0-9.]*[0-9]+[0-9.]*$/g;\n/**\n * Attributes used for icon\n *\n * @type {string[]}\n */\n\nvar iconAttributes = ['width', 'height', 'inline', 'hFlip', 'vFlip', 'flip', 'rotate', 'align', 'color', 'box'];\n/**\n * Default attribute values\n *\n * @type {object}\n */\n\nvar defaultAttributes = {\n  left: 0,\n  top: 0,\n  width: 16,\n  height: 16,\n  rotate: 0,\n  hFlip: false,\n  vFlip: false\n};\n/**\n * Add missing properties to icon\n *\n * Important: in PHP version of this library this function is part of Collection class: Collection::addMissingAttributes()\n *\n * JavaScript version uses separate file so this function could be used in React and other components without loading\n * entire Collection class.\n *\n * @param {object} data\n * @return {object}\n */\n\nfunction normalize(data) {\n  // Object.create, compatible with IE11\n  var item = Object.create(null);\n  var key;\n\n  for (key in defaultAttributes) {\n    item[key] = defaultAttributes[key];\n  }\n\n  for (key in data) {\n    item[key] = data[key];\n  } // Attributes derived from other attributes\n\n\n  if (item.inlineTop === void 0) {\n    item.inlineTop = item.top;\n  }\n\n  if (item.inlineHeight === void 0) {\n    item.inlineHeight = item.height;\n  }\n\n  if (item.verticalAlign === void 0) {\n    // -0.143 if icon is designed for 14px height,\n    // otherwise assume icon is designed for 16px height\n    item.verticalAlign = item.height % 7 === 0 && item.height % 8 !== 0 ? -0.143 : -0.125;\n  }\n\n  return item;\n}\n/**\n * Get preserveAspectRatio attribute value\n *\n * @param {object} align\n * @return {string}\n * @private\n */\n\n\nfunction getAlignment(align) {\n  var result;\n\n  switch (align.horizontal) {\n    case 'left':\n      result = 'xMin';\n      break;\n\n    case 'right':\n      result = 'xMax';\n      break;\n\n    default:\n      result = 'xMid';\n  }\n\n  switch (align.vertical) {\n    case 'top':\n      result += 'YMin';\n      break;\n\n    case 'bottom':\n      result += 'YMax';\n      break;\n\n    default:\n      result += 'YMid';\n  }\n\n  result += align.slice ? ' slice' : ' meet';\n  return result;\n}\n/**\n * SVG class\n *\n * @see @iconify/json-tools/src/svg.js\n */\n\n\nvar SVG = /*#__PURE__*/function () {\n  /**\n   * Constructor\n   *\n   * @param icon Icon data\n   *  Use Collection.getIconData() to retrieve icon data\n   */\n  function SVG(icon) {\n    _classCallCheck(this, SVG);\n\n    this._item = icon;\n  }\n  /**\n   * Get SVG attributes\n   *\n   * @param {object} props Custom properties (same as query string in Iconify API)\n   * @returns {string}\n   */\n\n\n  _createClass(SVG, [{\n    key: \"getAttributes\",\n    value: function getAttributes(props) {\n      var item = this._item;\n\n      if (_typeof(props) !== 'object') {\n        props = Object.create(null);\n      } // Set data\n\n\n      var align = {\n        horizontal: 'center',\n        vertical: 'middle',\n        slice: false\n      };\n      var transform = {\n        rotate: item.rotate,\n        hFlip: item.hFlip,\n        vFlip: item.vFlip\n      };\n      var style = Object.create(null);\n      var attributes = Object.create(null); // Get width/height\n\n      var inline = props.inline === true || props.inline === 'true' || props.inline === '1';\n      var box = {\n        left: item.left,\n        top: inline ? item.inlineTop : item.top,\n        width: item.width,\n        height: inline ? item.inlineHeight : item.height\n      }; // Transformations\n\n      ['hFlip', 'vFlip'].forEach(function (key) {\n        if (props[key] !== void 0 && (props[key] === true || props[key] === 'true' || props[key] === '1')) {\n          transform[key] = !transform[key];\n        }\n      });\n\n      if (props.flip !== void 0) {\n        props.flip.toLowerCase().split(/[\\s,]+/).forEach(function (value) {\n          switch (value) {\n            case 'horizontal':\n              transform.hFlip = !transform.hFlip;\n              break;\n\n            case 'vertical':\n              transform.vFlip = !transform.vFlip;\n          }\n        });\n      }\n\n      if (props.rotate !== void 0) {\n        var value = props.rotate;\n\n        if (typeof value === 'number') {\n          transform.rotate += value;\n        } else if (typeof value === 'string') {\n          var units = value.replace(/^-?[0-9.]*/, '');\n\n          if (units === '') {\n            value = parseInt(value);\n\n            if (!isNaN(value)) {\n              transform.rotate += value;\n            }\n          } else if (units !== value) {\n            var split = false;\n\n            switch (units) {\n              case '%':\n                // 25% -> 1, 50% -> 2, ...\n                split = 25;\n                break;\n\n              case 'deg':\n                // 90deg -> 1, 180deg -> 2, ...\n                split = 90;\n            }\n\n            if (split) {\n              value = parseInt(value.slice(0, value.length - units.length));\n\n              if (!isNaN(value)) {\n                transform.rotate += Math.round(value / split);\n              }\n            }\n          }\n        }\n      } // Apply transformations to box\n\n\n      var transformations = [],\n          tempValue;\n\n      if (transform.hFlip) {\n        if (transform.vFlip) {\n          transform.rotate += 2;\n        } else {\n          // Horizontal flip\n          transformations.push('translate(' + (box.width + box.left) + ' ' + (0 - box.top) + ')');\n          transformations.push('scale(-1 1)');\n          box.top = box.left = 0;\n        }\n      } else if (transform.vFlip) {\n        // Vertical flip\n        transformations.push('translate(' + (0 - box.left) + ' ' + (box.height + box.top) + ')');\n        transformations.push('scale(1 -1)');\n        box.top = box.left = 0;\n      }\n\n      switch (transform.rotate % 4) {\n        case 1:\n          // 90deg\n          tempValue = box.height / 2 + box.top;\n          transformations.unshift('rotate(90 ' + tempValue + ' ' + tempValue + ')'); // swap width/height and x/y\n\n          if (box.left !== 0 || box.top !== 0) {\n            tempValue = box.left;\n            box.left = box.top;\n            box.top = tempValue;\n          }\n\n          if (box.width !== box.height) {\n            tempValue = box.width;\n            box.width = box.height;\n            box.height = tempValue;\n          }\n\n          break;\n\n        case 2:\n          // 180deg\n          transformations.unshift('rotate(180 ' + (box.width / 2 + box.left) + ' ' + (box.height / 2 + box.top) + ')');\n          break;\n\n        case 3:\n          // 270deg\n          tempValue = box.width / 2 + box.left;\n          transformations.unshift('rotate(-90 ' + tempValue + ' ' + tempValue + ')'); // swap width/height and x/y\n\n          if (box.left !== 0 || box.top !== 0) {\n            tempValue = box.left;\n            box.left = box.top;\n            box.top = tempValue;\n          }\n\n          if (box.width !== box.height) {\n            tempValue = box.width;\n            box.width = box.height;\n            box.height = tempValue;\n          }\n\n          break;\n      } // Calculate dimensions\n      // Values for width/height: null = default, 'auto' = from svg, false = do not set\n      // Default: if both values aren't set, height defaults to '1em', width is calculated from height\n\n\n      var customWidth = props.width ? props.width : null;\n      var customHeight = props.height ? props.height : null;\n      var width, height;\n\n      if (customWidth === null && customHeight === null) {\n        customHeight = '1em';\n      }\n\n      if (customWidth !== null && customHeight !== null) {\n        width = customWidth;\n        height = customHeight;\n      } else if (customWidth !== null) {\n        width = customWidth;\n        height = SVG.calculateDimension(width, box.height / box.width);\n      } else {\n        height = customHeight;\n        width = SVG.calculateDimension(height, box.width / box.height);\n      }\n\n      if (width !== false) {\n        attributes.width = width === 'auto' ? box.width : width;\n      }\n\n      if (height !== false) {\n        attributes.height = height === 'auto' ? box.height : height;\n      } // Add vertical-align for inline icon\n\n\n      if (inline && item.verticalAlign !== 0) {\n        style['vertical-align'] = item.verticalAlign + 'em';\n      } // Check custom alignment\n\n\n      if (props.align !== void 0) {\n        props.align.toLowerCase().split(/[\\s,]+/).forEach(function (value) {\n          switch (value) {\n            case 'left':\n            case 'right':\n            case 'center':\n              align.horizontal = value;\n              break;\n\n            case 'top':\n            case 'bottom':\n            case 'middle':\n              align.vertical = value;\n              break;\n\n            case 'crop':\n              align.slice = true;\n              break;\n\n            case 'meet':\n              align.slice = false;\n          }\n        });\n      } // Generate viewBox and preserveAspectRatio attributes\n\n\n      attributes.preserveAspectRatio = getAlignment(align);\n      attributes.viewBox = box.left + ' ' + box.top + ' ' + box.width + ' ' + box.height; // Generate body\n\n      var body = SVG.replaceIDs(item.body);\n\n      if (props.color !== void 0) {\n        body = body.replace(/currentColor/g, props.color);\n      }\n\n      if (transformations.length) {\n        body = '<g transform=\"' + transformations.join(' ') + '\">' + body + '</g>';\n      }\n\n      if (props.box === true || props.box === 'true' || props.box === '1') {\n        // Add transparent bounding box\n        body += '<rect x=\"' + box.left + '\" y=\"' + box.top + '\" width=\"' + box.width + '\" height=\"' + box.height + '\" fill=\"rgba(0, 0, 0, 0)\" />';\n      }\n\n      return {\n        attributes: attributes,\n        body: body,\n        style: style\n      };\n    }\n    /**\n     * Generate SVG\n     *\n     * @param {object} props Custom properties (same as query string in Iconify API)\n     * @param {boolean} [addExtra] True if extra attributes should be added to SVG.\n     *  Due to lack of functions in JavaScript for escaping attributes, it is your job to make sure key and value are both properly escaped. Default value is false.\n     * @returns {string}\n     */\n\n  }, {\n    key: \"getSVG\",\n    value: function getSVG(props, addExtra) {\n      var attributes = SVG.splitAttributes(props),\n          data = this.getAttributes(attributes.icon);\n      var svg = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"'; // Add extra attributes - assume that their names and values are escaped\n\n      if (addExtra) {\n        Object.keys(attributes.node).forEach(function (attr) {\n          svg += ' ' + attr + '=\"' + attributes.node[attr] + '\"';\n        });\n      } // Add SVG attributes\n\n\n      Object.keys(data.attributes).forEach(function (attr) {\n        svg += ' ' + attr + '=\"' + data.attributes[attr] + '\"';\n      }); // Add style with 360deg transformation to style to prevent subpixel rendering bug\n\n      svg += ' style=\"-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);';\n      Object.keys(data.style).forEach(function (attr) {\n        svg += ' ' + attr + ': ' + data.style[attr] + ';';\n      });\n\n      if (props && props.style !== void 0) {\n        svg += props.style;\n      }\n\n      svg += '\">';\n      svg += data.body + '</svg>';\n      return svg;\n    }\n    /**\n     * Split attributes\n     *\n     * @param props\n     * @return {{icon: {}, node: {}}}\n     */\n\n  }], [{\n    key: \"splitAttributes\",\n    value: function splitAttributes(props) {\n      var result = {\n        icon: Object.create(null),\n        node: Object.create(null)\n      };\n      Object.keys(props).forEach(function (name) {\n        result[iconAttributes.indexOf(name) === -1 ? 'node' : 'icon'][name] = props[name];\n      });\n      return result;\n    }\n    /**\n     * Calculate second dimension when only 1 dimension is set\n     *\n     * @param {string|number} size One dimension (such as width)\n     * @param {number} ratio Width/height ratio.\n     *      If size == width, ratio = height/width\n     *      If size == height, ratio = width/height\n     * @param {number} [precision] Floating number precision in result to minimize output. Default = 100\n     * @return {string|number|null} Another dimension, null on error\n     */\n\n  }, {\n    key: \"calculateDimension\",\n    value: function calculateDimension(size, ratio, precision) {\n      if (ratio === 1) {\n        return size;\n      }\n\n      precision = precision === void 0 ? 100 : precision;\n\n      if (typeof size === 'number') {\n        return Math.ceil(size * ratio * precision) / precision;\n      } // split code into sets of strings and numbers\n\n\n      var split = size.split(unitsSplit);\n\n      if (split === null || !split.length) {\n        return null;\n      }\n\n      var results = [],\n          code = split.shift(),\n          isNumber = unitsTest.test(code),\n          num;\n\n      while (true) {\n        if (isNumber) {\n          num = parseFloat(code);\n\n          if (isNaN(num)) {\n            results.push(code);\n          } else {\n            results.push(Math.ceil(num * ratio * precision) / precision);\n          }\n        } else {\n          results.push(code);\n        } // next\n\n\n        code = split.shift();\n\n        if (code === void 0) {\n          return results.join('');\n        }\n\n        isNumber = !isNumber;\n      }\n    }\n    /**\n     * Replace IDs in SVG output with unique IDs\n     * Fast replacement without parsing XML, assuming commonly used patterns.\n     *\n     * @param {string} body\n     * @return {string}\n     */\n\n  }, {\n    key: \"replaceIDs\",\n    value: function replaceIDs(body) {\n      var regex = /\\sid=\"(\\S+)\"/g,\n          ids = [],\n          match,\n          prefix;\n\n      function strReplace(search, replace, subject) {\n        var pos = 0;\n\n        while ((pos = subject.indexOf(search, pos)) !== -1) {\n          subject = subject.slice(0, pos) + replace + subject.slice(pos + search.length);\n          pos += replace.length;\n        }\n\n        return subject;\n      } // Find all IDs\n\n\n      while (match = regex.exec(body)) {\n        ids.push(match[1]);\n      }\n\n      if (!ids.length) {\n        return body;\n      }\n\n      prefix = 'IconifyId-' + Date.now().toString(16) + '-' + (Math.random() * 0x1000000 | 0).toString(16) + '-'; // Replace with unique ids\n\n      ids.forEach(function (id) {\n        var newID = prefix + idCounter;\n        idCounter++;\n        body = strReplace('=\"' + id + '\"', '=\"' + newID + '\"', body);\n        body = strReplace('=\"#' + id + '\"', '=\"#' + newID + '\"', body);\n        body = strReplace('(#' + id + ')', '(#' + newID + ')', body);\n      });\n      return body;\n    }\n  }]);\n\n  return SVG;\n}();\n/**\n * Create React component with SVG data\n *\n * @param {object} props\n * @param {boolean} inline\n * @return {null|React.Component}\n */\n\n\nfunction component(props, inline) {\n  if (_typeof(props.icon) !== 'object') {\n    return null;\n  } // Split properties into SVG properties and icon properties\n\n\n  var split = SVG.splitAttributes(props),\n      iconProps = split.icon,\n      customAttributes = split.node;\n  delete customAttributes.icon; // Set default inline value\n\n  if (iconProps.inline === void 0) {\n    iconProps.inline = inline;\n  } // Get SVG data\n\n\n  var svg = new SVG(normalize(props.icon));\n  var iconData = svg.getAttributes(iconProps); // Set style\n\n  var style = {\n    transform: 'rotate(360deg)'\n  };\n\n  if (iconData.style['vertical-align'] !== void 0) {\n    style.verticalAlign = iconData.style['vertical-align'];\n  }\n\n  if (props.style !== void 0) {\n    for (var _key in props.style) {\n      style[_key] = props.style[_key];\n    }\n  } // Generate element attributes\n\n\n  var attributes = {\n    xmlns: 'http://www.w3.org/2000/svg',\n    focusable: false,\n    style: style\n  };\n  var key;\n\n  for (key in customAttributes) {\n    attributes[key] = customAttributes[key];\n  }\n\n  for (key in iconData.attributes) {\n    attributes[key] = iconData.attributes[key];\n  }\n\n  attributes.dangerouslySetInnerHTML = {\n    __html: iconData.body\n  }; // Generate SVG\n\n  return _react[\"default\"].createElement('svg', attributes, null);\n}\n/**\n * Icon without vertical alignment\n *\n * @param {object} props\n * @return {React.Component}\n * @constructor\n */\n\n\nvar Icon = function Icon(props) {\n  return component(props, false);\n};\n/**\n * Icon with vertical alignment\n *\n * @param {object} props\n * @return {React.Component}\n * @constructor\n */\n\n\nexports.Icon = Icon;\n\nvar InlineIcon = function InlineIcon(props) {\n  return component(props, true);\n};\n/**\n * Default export\n */\n\n\nexports.InlineIcon = InlineIcon;\nvar _default = Icon;\nexports[\"default\"] = _default;","import React, { forwardRef, memo } from 'react'\nimport PropTypes from 'prop-types'\nimport ReactIs from 'react-is'\nimport Box from 'ui-box'\n\n/**\n * This is an internal helper component for rendering custom or Evergreen icons\n * Box props are applied to the outer Box container, and Evergreen icon-specific props are added to the icon element.\n */\nexport const IconWrapper = memo(\n  forwardRef(function Icon(\n    { icon, color, size, title, ...props },\n    ref\n  ) {\n    if (!icon || typeof icon === 'string') {\n      return null\n    }\n\n    const iconProps = {\n      color,\n      size,\n      title,\n    }\n\n    let iconWithProps = null\n    if (ReactIs.isValidElementType(icon)) {\n      const Component = icon\n      iconWithProps = <Component ref={ref} {...iconProps} />\n    } else if (React.isValidElement(icon)) {\n      iconWithProps = React.cloneElement(icon, { ...iconProps, ...icon.props, ref })\n    }\n\n    return (\n      <Box display=\"inline-flex\" {...props}>\n        {iconWithProps}\n      </Box>\n    )\n  })\n)\n\nIconWrapper.propTypes = {\n  /**\n   * Color of icon. Equivalent to setting CSS `fill` property.\n   */\n  color: PropTypes.string,\n\n  /**\n   * The icon component - whether an Evergreen icon or a custom icon node:\n   *\n   * - If `null` or `undefined` or `false`, this component will render nothing.\n   * - If given a `JSX.Element`, that element will be rendered, with size/color/title props cloned into it\n   * - If given a React element type, it will be rendered with the other icon props\n   *   As a consumer, you should never use `<IconWrapper icon={<element />}` directly; simply render `<element />` instead.\n   */\n  icon: PropTypes.oneOfType([PropTypes.elementType, PropTypes.element]),\n\n  /**\n   * Size of the icon, in pixels.\n   * Icons contains 16px and 20px SVG icon paths,\n   * and chooses the appropriate resolution based on this prop.\n   */\n  size: PropTypes.number,\n\n  /**\n   * Description string.\n   * Browsers usually render this as a tooltip on hover, whereas screen\n   * readers will use it for aural feedback.\n   * By default, this is set to the icon's name for accessibility.\n   */\n  title: PropTypes.string\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function v(n,l,u){var i,t=arguments,o={};for(i in l)\"key\"!==i&&\"ref\"!==i&&(o[i]=l[i]);if(arguments.length>3)for(u=[u],i=3;i<arguments.length;i++)u.push(t[i]);if(null!=u&&(o.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(i in n.defaultProps)void 0===o[i]&&(o[i]=n.defaultProps[i]);return h(n,o,l&&l.key,l&&l.ref,null)}function h(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o};return null==o&&(r.__v=r),n.vnode&&n.vnode(r),r}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?_(n):null}function w(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return w(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!m.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(m)}function m(){for(var n;m.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r,f;n.__d&&(r=(o=(l=n).__v).__e,(f=l.__P)&&(u=[],(i=s({},o)).__v=i,t=T(f,o,i,l.__n,void 0!==f.ownerSVGElement,null,u,null==r?_(o):r),$(u,o),t!=r&&w(o)))})}function g(n,l,u,i,t,o,r,c,s,v){var y,d,w,k,m,g,b,A=i&&i.__k||e,P=A.length;for(s==f&&(s=null!=r?r[0]:P?_(i,0):null),u.__k=[],y=0;y<l.length;y++)if(null!=(k=u.__k[y]=null==(k=l[y])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k?h(null,k,null,null,k):Array.isArray(k)?h(p,{children:k},null,null,null):null!=k.__e||null!=k.__c?h(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(w=A[y])||w&&k.key==w.key&&k.type===w.type)A[y]=void 0;else for(d=0;d<P;d++){if((w=A[d])&&k.key==w.key&&k.type===w.type){A[d]=void 0;break}w=null}m=T(n,k,w=w||f,t,o,r,c,s,v),(d=k.ref)&&w.ref!=d&&(b||(b=[]),w.ref&&b.push(w.ref,null,k),b.push(d,k.__c||m,k)),null!=m?(null==g&&(g=m),s=x(n,k,w,A,r,m,s),v||\"option\"!=u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&w.__e==s&&s.parentNode!=n&&(s=_(w))}if(u.__e=g,null!=r&&\"function\"!=typeof u.type)for(y=r.length;y--;)null!=r[y]&&a(r[y]);for(y=P;y--;)null!=A[y]&&I(A[y],A[y]);if(b)for(y=0;y<b.length;y++)H(b[y],b[++y],b[++y])}function b(n){return null==n||\"boolean\"==typeof n?[]:Array.isArray(n)?e.concat.apply([],n.map(b)):[n]}function x(n,l,u,i,t,o,r){var f,e,c;if(void 0!==l.__d)f=l.__d,l.__d=void 0;else if(t==u||o!=r||null==o.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(o),f=null;else{for(e=r,c=0;(e=e.nextSibling)&&c<i.length;c+=2)if(e==o)break n;n.insertBefore(o,r),f=r}return void 0!==f?f:o.nextSibling}function A(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=\"number\"==typeof u&&!1===c.test(l)?u+\"px\":null==u?\"\":u}function C(n,l,u,i,t){var o,r,f,e,c;if(t?\"className\"===l&&(l=\"class\"):\"class\"===l&&(l=\"className\"),\"style\"===l)if(o=n.style,\"string\"==typeof u)o.cssText=u;else{if(\"string\"==typeof i&&(o.cssText=\"\",i=null),i)for(e in i)u&&e in u||P(o,e,\"\");if(u)for(c in u)i&&u[c]===i[c]||P(o,c,u[c])}else\"o\"===l[0]&&\"n\"===l[1]?(r=l!==(l=l.replace(/Capture$/,\"\")),f=l.toLowerCase(),l=(f in n?f:l).slice(2),u?(i||n.addEventListener(l,N,r),(n.l||(n.l={}))[l]=u):n.removeEventListener(l,N,r)):\"list\"!==l&&\"tagName\"!==l&&\"form\"!==l&&\"type\"!==l&&\"size\"!==l&&\"download\"!==l&&!t&&l in n?n[l]=null==u?\"\":u:\"function\"!=typeof u&&\"dangerouslySetInnerHTML\"!==l&&(l!==(l=l.replace(/^xlink:?/,\"\"))?null==u||!1===u?n.removeAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase()):n.setAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase(),u):null==u||!1===u&&!/^ar/.test(l)?n.removeAttribute(l):n.setAttribute(l,u))}function N(l){this.l[l.type](n.event?n.event(l):l)}function z(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,t.__e&&(\"function\"==typeof t.type&&t.__k.length>1&&z(t,l,u),l=x(u,t,t,n.__k,null,t.__e,l),\"function\"==typeof n.type&&(n.__d=l)))}function T(l,u,i,t,o,r,f,e,c){var a,v,h,y,_,w,k,m,b,x,A,P=u.type;if(void 0!==u.constructor)return null;(a=n.__b)&&a(u);try{n:if(\"function\"==typeof P){if(m=u.props,b=(a=P.contextType)&&t[a.__c],x=a?b?b.props.value:a.__:t,i.__c?k=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(m,x):(u.__c=v=new d(m,x),v.constructor=P,v.render=L),b&&b.sub(v),v.props=m,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=s({},v.__s)),s(v.__s,P.getDerivedStateFromProps(m,v.__s))),y=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&m!==y&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(m,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(m,v.__s,x)||u.__v===i.__v){v.props=m,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,v.__h.length&&f.push(v),z(u,e,l);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(m,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(y,_,w)})}v.context=x,v.props=m,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=s(s({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(w=v.getSnapshotBeforeUpdate(y,_)),A=null!=a&&a.type==p&&null==a.key?a.props.children:a,g(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),v.base=u.__e,v.__h.length&&f.push(v),k&&(v.__E=v.__=null),v.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=j(i.__e,u,i,t,o,r,f,c);(a=n.diffed)&&a(u)}catch(l){u.__v=null,n.__e(l,u,i)}return u.__e}function $(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function j(n,l,u,i,t,o,r,c){var s,a,v,h,y,p=u.props,d=l.props;if(t=\"svg\"===l.type||t,null!=o)for(s=0;s<o.length;s++)if(null!=(a=o[s])&&((null===l.type?3===a.nodeType:a.localName===l.type)||n==a)){n=a,o[s]=null;break}if(null==n){if(null===l.type)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",l.type):document.createElement(l.type,d.is&&{is:d.is}),o=null,c=!1}if(null===l.type)p!==d&&n.data!==d&&(n.data=d);else{if(null!=o&&(o=e.slice.call(n.childNodes)),v=(p=u.props||f).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&v&&h.__html==v.__html||(n.innerHTML=h&&h.__html||\"\"))}A(n,d,p,t,c),h?l.__k=[]:(s=l.props.children,g(n,Array.isArray(s)?s:[s],l,u,i,\"foreignObject\"!==l.type&&t,o,r,f,c)),c||(\"value\"in d&&void 0!==(s=d.value)&&s!==n.value&&C(n,\"value\",s,p.value,!1),\"checked\"in d&&void 0!==(s=d.checked)&&s!==n.checked&&C(n,\"checked\",s,p.checked,!1))}return n}function H(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function I(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||H(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&I(t[r],u,i);null!=o&&a(o)}function L(n,l,u){return this.constructor(n,u)}function M(l,u,i){var t,r,c;n.__&&n.__(l,u),r=(t=i===o)?null:i&&i.__k||u.__k,l=v(p,null,[l]),c=[],T(u,(t?u:i||u).__k=l,r||f,f,void 0!==u.ownerSVGElement,i&&!t?[i]:r?null:u.childNodes.length?e.slice.call(u.childNodes):null,c,i||f,t),$(c,l)}function O(n,l){M(n,l,o)}function S(n,l){var u,i;for(i in l=s(s({},n.props),l),arguments.length>2&&(l.children=e.slice.call(arguments,2)),u={},l)\"key\"!==i&&\"ref\"!==i&&(u[i]=l[i]);return h(n.type,u,l.key||n.key,l.ref||n.ref,null)}function q(n){var l={},u={__c:\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var i,t=this;return this.getChildContext||(i=[],this.getChildContext=function(){return l[u.__c]=t,l},this.shouldComponentUpdate=function(n){t.props.value!==n.value&&i.some(function(l){l.context=n.value,k(l)})},this.sub=function(n){i.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){i.splice(i.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Consumer.contextType=u,u.Provider.__=u,u}n={__e:function(n,l){for(var u,i;l=l.__;)if((u=l.__c)&&!u.__)try{if(u.constructor&&null!=u.constructor.getDerivedStateFromError&&(i=!0,u.setState(u.constructor.getDerivedStateFromError(n))),null!=u.componentDidCatch&&(i=!0,u.componentDidCatch(n)),i)return k(u.__E=u)}catch(l){n=l}throw n}},l=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(u,this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},d.prototype.render=p,u=[],i=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,m.__r=0,o=f,r=0;export{M as render,O as hydrate,v as createElement,v as h,p as Fragment,y as createRef,l as isValidElement,d as Component,S as cloneElement,q as createContext,b as toChildArray,I as __u,n as options};\n//# sourceMappingURL=preact.module.js.map\n","export default {\n  search: {\n    placeholder: 'Type a keyword...',\n  },\n  sort: {\n    sortAsc: 'Sort column ascending',\n    sortDesc: 'Sort column descending',\n  },\n  pagination: {\n    previous: 'Previous',\n    next: 'Next',\n    navigate: (page, pages) => `Page ${page} of ${pages}`,\n    page: (page) => `Page ${page}`,\n    showing: 'Showing',\n    of: 'of',\n    to: 'to',\n    results: 'results',\n  },\n  loading: 'Loading...',\n  noRecordsFound: 'No matching records found',\n  error: 'An error happened while fetching the data',\n};\n","import enUS from './en_US';\ntype MessageFormat = (...args) => string;\ntype Message = string | MessageFormat;\nexport type Language = { [key: string]: Message | Language };\n\nexport class Translator {\n  private readonly _language: Language;\n  private readonly _defaultLanguage: Language;\n\n  constructor(language?: Language) {\n    this._language = language;\n    this._defaultLanguage = enUS;\n  }\n\n  /**\n   * Tries to split the message with \".\" and find\n   * the key in the given language\n   *\n   * @param message\n   * @param lang\n   */\n  getString(message: string, lang: Language): MessageFormat {\n    if (!lang || !message) return null;\n\n    const splitted = message.split('.');\n    const key = splitted[0];\n\n    if (lang[key]) {\n      const val = lang[key];\n\n      if (typeof val === 'string') {\n        return (): string => val;\n      } else if (typeof val === 'function') {\n        return val;\n      } else {\n        return this.getString(splitted.slice(1).join('.'), val);\n      }\n    }\n\n    return null;\n  }\n\n  translate(message: string, ...args): string {\n    const translated = this.getString(message, this._language);\n    let messageFormat;\n\n    if (translated) {\n      messageFormat = translated;\n    } else {\n      messageFormat = this.getString(message, this._defaultLanguage);\n    }\n\n    if (messageFormat) {\n      return messageFormat(...args);\n    }\n\n    return message;\n  }\n}\n\nexport function useTranslator(translator: Translator) {\n  return function (message: string, ...args): string {\n    return translator.translate(message, ...args);\n  };\n}\n","import { Component } from 'preact';\nimport { Config } from '../config';\nimport getConfig from '../util/getConfig';\nimport { useTranslator } from '../i18n/language';\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface BaseProps {}\n\nexport abstract class BaseComponent<P extends BaseProps, S> extends Component<\n  P,\n  S\n> {\n  protected config: Config;\n  protected _: (message: string, ...args) => string;\n\n  constructor(props: P, context: any) {\n    super(props, context);\n    this.config = getConfig(context);\n\n    if (this.config) {\n      this._ = useTranslator(this.config.translator);\n    }\n  }\n}\n","import { Context } from 'preact';\nimport { Config } from '../config';\n\n/**\n * This is a hack to get the current global config from Preact context.\n * My assumption is that we only need one global context which is the ConfigContext\n *\n * @param context\n */\nexport default function getConfig(context: {\n  [key: string]: Context<any>;\n}): Config {\n  if (!context) return null;\n\n  const keys = Object.keys(context);\n\n  if (keys.length) {\n    // TODO: can we use a better way to capture and return the Config context?\n    const ctx: any = context[keys[0]];\n    return ctx.props.value;\n  }\n\n  return null;\n}\n","export type ID = string;\n\nexport function generateID(): ID {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = (Math.random() * 16) | 0,\n      v = c == 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n","import { generateID, ID } from './util/id';\n\nclass Base {\n  private readonly _id: ID;\n\n  constructor(id?: ID) {\n    this._id = id || generateID();\n  }\n\n  get id(): ID {\n    return this._id;\n  }\n}\n\nexport default Base;\n","import { h } from 'preact';\n\nimport { BaseComponent, BaseProps } from './base';\n\nexport interface HTMLContentProps extends BaseProps {\n  content: string;\n  parentElement?: string;\n}\n\nexport class HTMLElement extends BaseComponent<HTMLContentProps, {}> {\n  static defaultProps = {\n    parentElement: 'span',\n  };\n\n  render() {\n    return h(this.props.parentElement, {\n      dangerouslySetInnerHTML: { __html: this.props.content },\n    });\n  }\n}\n","import { h, VNode } from 'preact';\nimport { HTMLElement } from '../view/htmlElement';\n\nexport function html(content: string, parentElement?: string): VNode {\n  return h(HTMLElement, { content: content, parentElement: parentElement });\n}\n","import Base from './base';\nimport { TCell } from './types';\nimport { html } from './util/html';\nimport { ComponentChild } from 'preact';\n\nclass Cell extends Base {\n  // because a Cell is a subset of TCell type\n  public data: number | string | boolean | ComponentChild;\n\n  constructor(data: TCell) {\n    super();\n\n    this.setData(data);\n  }\n\n  private cast(data: TCell): number | string | boolean | ComponentChild {\n    if (data instanceof HTMLElement) {\n      return html(data.outerHTML);\n    }\n\n    return data;\n  }\n\n  public setData(data: TCell): Cell {\n    this.data = this.cast(data);\n    return this;\n  }\n}\n\nexport default Cell;\n","// The order of enum items define the processing order of the processor type\n// e.g. Extractor = 0 will be processed before Transformer = 1\nimport { generateID, ID } from '../util/id';\nimport { EventEmitter } from '../util/eventEmitter';\n\nexport enum ProcessorType {\n  Initiator,\n  ServerFilter,\n  ServerSort,\n  ServerLimit,\n  Extractor,\n  Transformer,\n  Filter,\n  Sort,\n  Limit,\n}\n\ninterface PipelineProcessorEvents<T, P> {\n  propsUpdated: (processor: PipelineProcessor<T, P>) => void;\n  beforeProcess: (...args) => void;\n  afterProcess: (...args) => void;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface PipelineProcessorProps {}\n\nexport abstract class PipelineProcessor<\n  T,\n  P extends Partial<PipelineProcessorProps>\n> extends EventEmitter<PipelineProcessorEvents<T, P>> {\n  public readonly id: ID;\n  private readonly _props: P;\n\n  abstract get type(): ProcessorType;\n  protected abstract _process(...args): T | Promise<T>;\n  protected validateProps?(...args): void;\n\n  constructor(props?: Partial<P>) {\n    super();\n\n    this._props = {} as P;\n    this.id = generateID();\n\n    if (props) this.setProps(props);\n  }\n\n  /**\n   * process is used to call beforeProcess and afterProcess callbacks\n   * This function is just a wrapper that calls _process()\n   *\n   * @param args\n   */\n  process(...args): T | Promise<T> {\n    if (this.validateProps instanceof Function) {\n      this.validateProps(...args);\n    }\n\n    this.emit('beforeProcess', ...args);\n    const result = this._process(...args);\n    this.emit('afterProcess', ...args);\n    return result;\n  }\n\n  setProps(props: Partial<P>): this {\n    Object.assign(this._props, props);\n    this.emit('propsUpdated', this);\n    return this;\n  }\n\n  get props(): P {\n    return this._props;\n  }\n}\n","import Cell from './cell';\nimport Base from './base';\nimport { TCell } from './types';\n\nclass Row extends Base {\n  private _cells: Cell[];\n\n  constructor(cells?: Cell[]) {\n    super();\n\n    this.cells = cells || [];\n  }\n\n  public get cells(): Cell[] {\n    return this._cells;\n  }\n\n  public set cells(cells: Cell[]) {\n    this._cells = cells;\n  }\n\n  public toArray(): TCell[] {\n    return this.cells.map((cell) => cell.data);\n  }\n\n  /**\n   * Creates a new Row from an array of Cell(s)\n   * This method generates a new ID for the Row and all nested elements\n   *\n   * @param cells\n   * @returns Row\n   */\n  static fromCells(cells: Cell[]): Row {\n    return new Row(cells.map((cell) => new Cell(cell.data)));\n  }\n\n  get length(): number {\n    return this.cells.length;\n  }\n}\n\nexport default Row;\n","import Base from './base';\nimport Row from './row';\nimport Cell from './cell';\nimport { OneDArray, TCell, TwoDArray } from './types';\nimport { oneDtoTwoD } from './util/array';\n\nclass Tabular extends Base {\n  private _rows: Row[];\n  private _length: number;\n\n  constructor(rows?: Row[] | Row) {\n    super();\n\n    if (rows instanceof Array) {\n      this.rows = rows;\n    } else if (rows instanceof Row) {\n      this.rows = [rows];\n    } else {\n      this.rows = [];\n    }\n  }\n\n  get rows(): Row[] {\n    return this._rows;\n  }\n\n  set rows(rows: Row[]) {\n    this._rows = rows;\n  }\n\n  get length(): number {\n    return this._length || this.rows.length;\n  }\n\n  // we want to sent the length when storage is ServerStorage\n  set length(len: number) {\n    this._length = len;\n  }\n\n  public toArray(): TCell[][] {\n    return this.rows.map((row) => row.toArray());\n  }\n\n  /**\n   * Creates a new Tabular from an array of Row(s)\n   * This method generates a new ID for the Tabular and all nested elements\n   *\n   * @param rows\n   * @returns Tabular\n   */\n  static fromRows(rows: Row[]): Tabular {\n    return new Tabular(rows.map((row) => Row.fromCells(row.cells)));\n  }\n\n  /**\n   * Creates a new Tabular from a 2D array\n   * This method generates a new ID for the Tabular and all nested elements\n   *\n   * @param data\n   * @returns Tabular\n   */\n  static fromArray<T extends TCell>(\n    data: OneDArray<T> | TwoDArray<T>,\n  ): Tabular {\n    data = oneDtoTwoD(data);\n\n    return new Tabular(\n      data.map((row) => new Row(row.map((cell) => new Cell(cell)))),\n    );\n  }\n}\n\nexport default Tabular;\n","import { OneDArray, TwoDArray } from '../types';\n\nexport function oneDtoTwoD<T>(data: OneDArray<T> | TwoDArray<T>): TwoDArray<T> {\n  if (data[0] && !(data[0] instanceof Array)) {\n    return [data] as TwoDArray<T>;\n  }\n\n  return data as TwoDArray<T>;\n}\n","type EventArgs<T> = [T] extends [(...args: infer U) => any]\n  ? U\n  : [T] extends [void]\n  ? []\n  : [T];\n\n/**\n * Example:\n *\n * export interface BaseEvents<P, S> {\n *   SET_STATE: (component: BaseComponent<P, S>, state: S) => void;\n * }\n */\n\nexport interface EventEmitter<EventTypes> {\n  addListener<EventName extends keyof EventTypes>(\n    event: EventName,\n    listener: (...args: EventArgs<EventTypes[EventName]>) => void,\n  ): EventEmitter<EventTypes>;\n\n  on<EventName extends keyof EventTypes>(\n    event: EventName,\n    listener: (...args: EventArgs<EventTypes[EventName]>) => void,\n  ): EventEmitter<EventTypes>;\n\n  off<EventName extends keyof EventTypes>(\n    event: EventName,\n    listener: (...args: EventArgs<EventTypes[EventName]>) => void,\n  ): EventEmitter<EventTypes>;\n\n  emit<EventName extends keyof EventTypes>(\n    event: EventName,\n    ...args: EventArgs<EventTypes[EventName]>\n  ): boolean;\n}\n\nexport class EventEmitter<EventTypes> {\n  private callbacks: { [event: string]: ((...args) => void)[] };\n\n  // because we are using EventEmitter as a mixin and the\n  // constructor won't be called by the applyMixins function\n  // see src/base.ts and src/util/applyMixin.ts\n  private init(event?: string): void {\n    if (!this.callbacks) {\n      this.callbacks = {};\n    }\n\n    if (event && !this.callbacks[event]) {\n      this.callbacks[event] = [];\n    }\n  }\n\n  on<EventName extends keyof EventTypes>(\n    event: EventName,\n    listener: (...args: EventArgs<EventTypes[EventName]>) => void,\n  ): EventEmitter<EventTypes> {\n    this.init(event as string);\n    this.callbacks[event as string].push(listener);\n    return this;\n  }\n\n  off<EventName extends keyof EventTypes>(\n    event: EventName,\n    listener: (...args: EventArgs<EventTypes[EventName]>) => void,\n  ): EventEmitter<EventTypes> {\n    const eventName = event as string;\n\n    this.init();\n\n    if (!this.callbacks[eventName] || this.callbacks[eventName].length === 0) {\n      // there is no callbacks with this key\n      return this;\n    }\n\n    this.callbacks[eventName] = this.callbacks[eventName].filter(\n      (value) => value != listener,\n    );\n\n    return this;\n  }\n\n  emit<EventName extends keyof EventTypes>(\n    event: EventName,\n    ...args: EventArgs<EventTypes[EventName]>\n  ): boolean {\n    const eventName = event as string;\n\n    this.init(eventName);\n\n    if (this.callbacks[eventName].length > 0) {\n      this.callbacks[eventName].forEach((value) => value(...args));\n      return true;\n    }\n\n    return false;\n  }\n}\n","import search from '../../operator/search';\nimport Tabular from '../../tabular';\nimport {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\nimport { TCell } from '../../types';\n\ninterface GlobalSearchFilterProps extends PipelineProcessorProps {\n  keyword: string;\n  selector?: (cell: TCell, rowIndex: number, cellIndex: number) => string;\n}\n\nclass GlobalSearchFilter extends PipelineProcessor<\n  Tabular,\n  GlobalSearchFilterProps\n> {\n  get type(): ProcessorType {\n    return ProcessorType.Filter;\n  }\n\n  _process(data: Tabular): Tabular {\n    if (this.props.keyword) {\n      return search(\n        String(this.props.keyword).trim(),\n        data,\n        this.props.selector,\n      );\n    }\n\n    return data;\n  }\n}\n\nexport default GlobalSearchFilter;\n","import Tabular from '../tabular';\nimport { VNode } from 'preact';\nimport { HTMLContentProps } from '../view/htmlElement';\nimport { TCell } from '../types';\n\nexport default function (\n  keyword: string,\n  tabular: Tabular,\n  selector?: (cell: TCell, rowIndex: number, cellIndex: number) => string,\n): Tabular {\n  // escape special regex chars\n  keyword = keyword.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n\n  return new Tabular(\n    tabular.rows.filter((row, rowIndex) =>\n      row.cells.some((cell, cellIndex) => {\n        if (!cell) {\n          return false;\n        }\n\n        let data = '';\n\n        if (typeof selector === 'function') {\n          data = selector(cell.data, rowIndex, cellIndex);\n        } else if (typeof cell.data === 'object') {\n          // HTMLContent element\n          const element = cell.data as VNode<HTMLContentProps>;\n          if (element && element.props && element.props.content) {\n            // TODO: we should only search in the content of the element. props.content is the entire HTML element\n            data = element.props.content;\n          }\n        } else {\n          // primitive types\n          data = String(cell.data);\n        }\n\n        return new RegExp(keyword, 'gi').test(data);\n      }),\n    ),\n  );\n}\n","export function className(...args: string[]): string {\n  const prefix = 'gridjs';\n\n  return `${prefix}${args.reduce(\n    (prev: string, cur: string) => `${prev}-${cur}`,\n    '',\n  )}`;\n}\n\nexport function classJoin(...classNames: string[]): string {\n  return classNames\n    .filter((x) => x)\n    .reduce((className, prev) => `${className || ''} ${prev}`, '')\n    .trim();\n}\n","import { EventEmitter } from '../../util/eventEmitter';\nimport Dispatcher from '../../util/dispatcher';\n\ninterface BaseStoreEvents<STATE> {\n  updated: (newState: STATE, prevState?: STATE) => void;\n}\n\nexport default abstract class BaseStore<STATE, ACTIONS> extends EventEmitter<\n  BaseStoreEvents<STATE>\n> {\n  private _state: STATE;\n  protected readonly dispatcher: Dispatcher<any>;\n\n  constructor(dispatcher: Dispatcher<any>) {\n    super();\n    this.dispatcher = dispatcher;\n    this._state = this.getInitialState();\n    dispatcher.register(this._handle.bind(this));\n  }\n\n  abstract handle<K extends keyof ACTIONS>(type: K, payload: ACTIONS[K]): void;\n  abstract getInitialState(): STATE;\n\n  private _handle(action): void {\n    this.handle(action.type, action.payload);\n  }\n\n  setState(newState: STATE): void {\n    const prevState = this._state;\n    this._state = newState;\n    this.emit('updated', newState, prevState);\n  }\n\n  get state(): STATE {\n    return this._state;\n  }\n}\n","import BaseStore from '../../base/store';\nimport { SearchActionsType } from './actions';\n\nexport type SearchStoreState = { keyword: string | null };\n\nexport class SearchStore extends BaseStore<\n  SearchStoreState,\n  SearchActionsType\n> {\n  getInitialState(): SearchStoreState {\n    return { keyword: null };\n  }\n\n  handle(type, payload): void {\n    if (type === 'SEARCH_KEYWORD') {\n      const { keyword } = payload;\n      this.search(keyword);\n    }\n  }\n\n  private search(keyword: string): void {\n    this.setState({ keyword: keyword });\n  }\n}\n","import Dispatcher from '../../util/dispatcher';\n\nexport abstract class BaseActions<ACTIONS> {\n  private readonly dispatcher: Dispatcher<any>;\n\n  constructor(dispatcher: Dispatcher<any>) {\n    this.dispatcher = dispatcher;\n  }\n\n  protected dispatch<K extends keyof ACTIONS>(\n    type: K,\n    payload: ACTIONS[K],\n  ): void {\n    this.dispatcher.dispatch({\n      type: type,\n      payload: payload,\n    });\n  }\n}\n","import { BaseActions } from '../../base/actions';\n\nexport interface SearchActionsType {\n  SEARCH_KEYWORD: {\n    keyword: string;\n  };\n}\n\nexport class SearchActions extends BaseActions<SearchActionsType> {\n  search(keyword: string): void {\n    this.dispatch('SEARCH_KEYWORD', {\n      keyword: keyword,\n    });\n  }\n}\n","import {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\nimport { ServerStorageOptions } from '../../storage/server';\n\ninterface ServerGlobalSearchFilterProps extends PipelineProcessorProps {\n  keyword?: string;\n  url?: (prevUrl: string, keyword: string) => string;\n  body?: (prevBody: BodyInit, keyword: string) => BodyInit;\n}\n\nclass ServerGlobalSearchFilter extends PipelineProcessor<\n  ServerStorageOptions,\n  ServerGlobalSearchFilterProps\n> {\n  get type(): ProcessorType {\n    return ProcessorType.ServerFilter;\n  }\n\n  _process(options?: ServerStorageOptions): ServerStorageOptions {\n    if (!this.props.keyword) return options;\n\n    const updates = {};\n\n    if (this.props.url) {\n      updates['url'] = this.props.url(options.url, this.props.keyword);\n    }\n\n    if (this.props.body) {\n      updates['body'] = this.props.body(options.body, this.props.keyword);\n    }\n\n    return {\n      ...options,\n      ...updates,\n    };\n  }\n}\n\nexport default ServerGlobalSearchFilter;\n","import { h } from 'preact';\nimport { BaseComponent, BaseProps } from '../../base';\nimport GlobalSearchFilter from '../../../pipeline/filter/globalSearch';\nimport { classJoin, className } from '../../../util/className';\nimport { SearchStore, SearchStoreState } from './store';\nimport { SearchActions } from './actions';\nimport ServerGlobalSearchFilter from '../../../pipeline/filter/serverGlobalSearch';\nimport { debounce } from '../../../util/debounce';\nimport { TCell } from '../../../types';\n\nexport interface SearchConfig {\n  keyword?: string;\n  enabled?: boolean;\n  debounceTimeout?: number;\n  selector?: (cell: TCell, rowIndex: number, cellIndex: number) => string;\n  server?: {\n    url?: (prevUrl: string, keyword: string) => string;\n    body?: (prevBody: BodyInit, keyword: string) => BodyInit;\n  };\n}\n\nexport class Search extends BaseComponent<SearchConfig & BaseProps, {}> {\n  private readonly searchProcessor:\n    | GlobalSearchFilter\n    | ServerGlobalSearchFilter;\n  private readonly actions: SearchActions;\n  private readonly store: SearchStore;\n  private readonly storeUpdatedFn: (...args) => void;\n\n  static defaultProps = {\n    debounceTimeout: 250,\n  };\n\n  constructor(props: SearchConfig, context) {\n    super(props, context);\n\n    this.actions = new SearchActions(this.config.dispatcher);\n    this.store = new SearchStore(this.config.dispatcher);\n    const { enabled, keyword } = props;\n\n    if (enabled) {\n      // initial search\n      if (keyword) this.actions.search(keyword);\n\n      this.storeUpdatedFn = this.storeUpdated.bind(this);\n      this.store.on('updated', this.storeUpdatedFn);\n\n      let searchProcessor;\n      if (props.server) {\n        searchProcessor = new ServerGlobalSearchFilter({\n          keyword: props.keyword,\n          url: props.server.url,\n          body: props.server.body,\n        });\n      } else {\n        searchProcessor = new GlobalSearchFilter({\n          keyword: props.keyword,\n          selector: props.selector,\n        });\n      }\n\n      this.searchProcessor = searchProcessor;\n\n      // adds a new processor to the pipeline\n      this.config.pipeline.register(searchProcessor);\n    }\n  }\n\n  componentWillUnmount(): void {\n    this.config.pipeline.unregister(this.searchProcessor);\n    this.store.off('updated', this.storeUpdatedFn);\n  }\n\n  private storeUpdated(state: SearchStoreState): void {\n    // updates the processor state\n    this.searchProcessor.setProps({\n      keyword: state.keyword,\n    });\n  }\n\n  private onChange(event): void {\n    const keyword = event.target.value;\n    this.actions.search(keyword);\n  }\n\n  render() {\n    if (!this.props.enabled) return null;\n\n    let onInput = this.onChange.bind(this);\n\n    // add debounce to input only if it's a server-side search\n    if (this.searchProcessor instanceof ServerGlobalSearchFilter) {\n      onInput = debounce(onInput, this.props.debounceTimeout);\n    }\n\n    return (\n      <div className={className('search')}>\n        <input\n          type=\"search\"\n          placeholder={this._('search.placeholder')}\n          aria-label={this._('search.placeholder')}\n          onInput={onInput}\n          className={classJoin(\n            className('input'),\n            className('search', 'input'),\n          )}\n          value={this.store.state.keyword}\n        />\n      </div>\n    );\n  }\n}\n","export const debounce = <F extends (...args: any[]) => any>(\n  func: F,\n  waitFor: number,\n) => {\n  let timeout;\n\n  return (...args: Parameters<F>): Promise<ReturnType<F>> =>\n    new Promise((resolve) => {\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n\n      timeout = setTimeout(() => resolve(func(...args)), waitFor);\n    });\n};\n","import Tabular from '../../tabular';\nimport {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\n\ninterface PaginationLimitProps extends PipelineProcessorProps {\n  page: number;\n  limit: number;\n}\n\nclass PaginationLimit extends PipelineProcessor<Tabular, PaginationLimitProps> {\n  protected validateProps(): void {\n    if (isNaN(Number(this.props.limit)) || isNaN(Number(this.props.page))) {\n      throw Error('Invalid parameters passed');\n    }\n  }\n\n  get type(): ProcessorType {\n    return ProcessorType.Limit;\n  }\n\n  protected _process(data: Tabular): Tabular {\n    const page = this.props.page;\n    const start = page * this.props.limit;\n    const end = (page + 1) * this.props.limit;\n\n    return new Tabular(data.rows.slice(start, end));\n  }\n}\n\nexport default PaginationLimit;\n","import {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\nimport { ServerStorageOptions } from '../../storage/server';\n\ninterface ServerPaginationLimitProps extends PipelineProcessorProps {\n  page: number;\n  limit: number;\n  url?: (prevUrl: string, page: number, limit: number) => string;\n  body?: (prevBody: BodyInit, page: number, limit: number) => BodyInit;\n}\n\nclass ServerPaginationLimit extends PipelineProcessor<\n  ServerStorageOptions,\n  ServerPaginationLimitProps\n> {\n  get type(): ProcessorType {\n    return ProcessorType.ServerLimit;\n  }\n\n  _process(options?: ServerStorageOptions): ServerStorageOptions {\n    const updates = {};\n\n    if (this.props.url) {\n      updates['url'] = this.props.url(\n        options.url,\n        this.props.page,\n        this.props.limit,\n      );\n    }\n\n    if (this.props.body) {\n      updates['body'] = this.props.body(\n        options.body,\n        this.props.page,\n        this.props.limit,\n      );\n    }\n\n    return {\n      ...options,\n      ...updates,\n    };\n  }\n}\n\nexport default ServerPaginationLimit;\n","import { h, Fragment } from 'preact';\nimport { BaseComponent, BaseProps } from '../base';\nimport PaginationLimit from '../../pipeline/limit/pagination';\nimport { className } from '../../util/className';\nimport ServerPaginationLimit from '../../pipeline/limit/serverPagination';\nimport Tabular from '../../tabular';\nimport { PipelineProcessor } from '../../pipeline/processor';\n\ninterface PaginationState {\n  page: number;\n  limit?: number;\n  total: number;\n}\n\nexport interface PaginationConfig {\n  enabled: boolean;\n  limit?: number;\n  page?: number;\n  summary?: boolean;\n  nextButton?: boolean;\n  prevButton?: boolean;\n  buttonsCount?: number;\n  resetPageOnUpdate?: boolean;\n  server?: {\n    url?: (prevUrl: string, page: number, limit: number) => string;\n    body?: (prevBody: BodyInit, page: number, limit: number) => BodyInit;\n  };\n}\n\nexport class Pagination extends BaseComponent<\n  BaseProps & PaginationConfig,\n  PaginationState\n> {\n  private processor: PaginationLimit | ServerPaginationLimit;\n  private onUpdateFn: (processor: PipelineProcessor<any, any>) => void;\n  private setTotalFromTabularFn: (tabular: Tabular) => void;\n\n  static defaultProps = {\n    summary: true,\n    nextButton: true,\n    prevButton: true,\n    buttonsCount: 3,\n    limit: 10,\n    resetPageOnUpdate: true,\n  };\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      limit: props.limit,\n      page: props.page || 0,\n      total: 0,\n    };\n  }\n\n  componentWillMount(): void {\n    if (this.props.enabled) {\n      let processor;\n\n      this.setTotalFromTabularFn = this.setTotalFromTabular.bind(this);\n\n      if (this.props.server) {\n        processor = new ServerPaginationLimit({\n          limit: this.state.limit,\n          page: this.state.page,\n          url: this.props.server.url,\n          body: this.props.server.body,\n        });\n\n        this.config.pipeline.on('afterProcess', this.setTotalFromTabularFn);\n      } else {\n        processor = new PaginationLimit({\n          limit: this.state.limit,\n          page: this.state.page,\n        });\n\n        // Pagination (all Limit processors) is the last step in the pipeline\n        // and we assume that at this stage, we have the rows that we care about.\n        // Let's grab the rows before processing Pagination and set total number of rows\n        processor.on('beforeProcess', this.setTotalFromTabularFn);\n      }\n\n      this.processor = processor;\n      this.config.pipeline.register(processor);\n\n      // we need to make sure that the state is set\n      // to the default props when an error happens\n      this.config.pipeline.on('error', () => {\n        this.setState({\n          total: 0,\n          page: 0,\n        });\n      });\n    }\n  }\n\n  private setTotalFromTabular(tabular: Tabular): void {\n    this.setTotal(tabular.length);\n  }\n\n  private onUpdate(processor): void {\n    // this is to ensure that the current page is set to 0\n    // when a processor is updated for some reason\n    if (this.props.resetPageOnUpdate && processor !== this.processor) {\n      this.setPage(0);\n    }\n  }\n\n  componentDidMount(): void {\n    this.onUpdateFn = this.onUpdate.bind(this);\n    this.config.pipeline.on('updated', this.onUpdateFn);\n  }\n\n  componentWillUnmount() {\n    this.config.pipeline.unregister(this.processor);\n    this.config.pipeline.off('updated', this.onUpdateFn);\n  }\n\n  private get pages(): number {\n    return Math.ceil(this.state.total / this.state.limit);\n  }\n\n  private setPage(page: number): void {\n    if (page >= this.pages || page < 0 || page === this.state.page) {\n      return null;\n    }\n\n    this.setState({\n      page: page,\n    });\n\n    this.processor.setProps({\n      page: page,\n    });\n  }\n\n  private setTotal(totalRows: number): void {\n    // to set the correct total number of rows\n    // when running in-memory operations\n    this.setState({\n      total: totalRows,\n    });\n  }\n\n  renderPages() {\n    if (this.props.buttonsCount <= 0) {\n      return null;\n    }\n\n    // how many pagination buttons to render?\n    const maxCount: number = Math.min(this.pages, this.props.buttonsCount);\n\n    let pagePivot = Math.min(this.state.page, Math.floor(maxCount / 2));\n    if (this.state.page + Math.floor(maxCount / 2) >= this.pages) {\n      pagePivot = maxCount - (this.pages - this.state.page);\n    }\n\n    return (\n      <Fragment>\n        {this.pages > maxCount && this.state.page - pagePivot > 0 && (\n          <Fragment>\n            <button\n              tabIndex={0}\n              onClick={this.setPage.bind(this, 0)}\n              title={this._('pagination.firstPage')}\n            >\n              {this._('1')}\n            </button>\n            <button tabIndex={-1} className={className('spread')}>\n              ...\n            </button>\n          </Fragment>\n        )}\n\n        {Array.from(Array(maxCount).keys())\n          .map((i) => this.state.page + (i - pagePivot))\n          .map((i) => (\n            <button\n              tabIndex={0}\n              onClick={this.setPage.bind(this, i)}\n              className={\n                this.state.page === i ? className('currentPage') : null\n              }\n              title={this._('pagination.page', i + 1)}\n            >\n              {this._(`${i + 1}`)}\n            </button>\n          ))}\n\n        {this.pages > maxCount && this.pages > this.state.page + pagePivot + 1 && (\n          <Fragment>\n            <button tabIndex={-1} className={className('spread')}>\n              ...\n            </button>\n            <button\n              tabIndex={0}\n              onClick={this.setPage.bind(this, this.pages - 1)}\n              title={this._('pagination.page', this.pages)}\n            >\n              {this._(`${this.pages}`)}\n            </button>\n          </Fragment>\n        )}\n      </Fragment>\n    );\n  }\n\n  renderSummary() {\n    return (\n      <Fragment>\n        {this.props.summary && this.state.total > 0 && (\n          <div\n            role=\"status\"\n            className={className('summary')}\n            title={this._(\n              'pagination.navigate',\n              this.state.page + 1,\n              this.pages,\n            )}\n          >\n            {this._('pagination.showing')}{' '}\n            <b>{this._(`${this.state.page * this.state.limit + 1}`)}</b>{' '}\n            {this._('pagination.to')}{' '}\n            <b>\n              {this._(\n                `${Math.min(\n                  (this.state.page + 1) * this.state.limit,\n                  this.state.total,\n                )}`,\n              )}\n            </b>{' '}\n            {this._('pagination.of')} <b>{this._(`${this.state.total}`)}</b>{' '}\n            {this._('pagination.results')}\n          </div>\n        )}\n      </Fragment>\n    );\n  }\n\n  render() {\n    if (!this.props.enabled) return null;\n\n    return (\n      <div className={className('pagination')}>\n        {this.renderSummary()}\n\n        <div className={className('pages')}>\n          {this.props.prevButton && (\n            <button\n              tabIndex={0}\n              disabled={this.state.page === 0}\n              onClick={this.setPage.bind(this, this.state.page - 1)}\n            >\n              {this._('pagination.previous')}\n            </button>\n          )}\n\n          {this.renderPages()}\n\n          {this.props.nextButton && (\n            <button\n              tabIndex={0}\n              disabled={this.pages === this.state.page + 1 || this.pages === 0}\n              onClick={this.setPage.bind(this, this.state.page + 1)}\n            >\n              {this._('pagination.next')}\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","export function width(width: string | number, containerWidth?: number): number {\n  if (typeof width == 'string') {\n    if (width.indexOf('%') > -1) {\n      return (containerWidth / 100) * parseInt(width, 10);\n    } else {\n      return parseInt(width, 10);\n    }\n  }\n\n  return width;\n}\n\nexport function px(width: number): string {\n  if (!width) return '';\n  return `${Math.floor(width)}px`;\n}\n\n/**\n * Accepts a ShadowTable and tries to find the clientWidth\n * that is already rendered on the web browser\n *\n * @param shadowTable\n * @param columnIndex\n */\nexport function getWidth(shadowTable: Element, columnIndex): number {\n  if (!shadowTable) {\n    return null;\n  }\n\n  const tds = shadowTable.querySelectorAll('tr:first-child > td');\n\n  if (tds && tds[columnIndex]) {\n    return tds[columnIndex].clientWidth;\n  }\n\n  return null;\n}\n","import { h } from 'preact';\n\nimport Tabular from '../../tabular';\nimport { BaseComponent, BaseProps } from '../base';\nimport Header from '../../header';\nimport Row from '../../row';\nimport Cell from '../../cell';\n\ninterface ShadowTableProps extends BaseProps {\n  data: Tabular;\n  header?: Header;\n}\n\nexport class ShadowTable extends BaseComponent<ShadowTableProps, {}> {\n  resetStyle(): { [key: string]: string | number } {\n    return { padding: 0, margin: 0, border: 'none', outline: 'none' };\n  }\n\n  head() {\n    return (\n      <thead style={this.resetStyle()}>\n        <tr>\n          {this.props.header.columns.map((col) => {\n            return (\n              <th\n                style={{\n                  ...this.resetStyle(),\n                  whiteSpace: 'nowrap',\n                  // pagination buttons\n                  paddingRight: col.sort ? '18px' : '0',\n                }}\n              >\n                {col.name}\n              </th>\n            );\n          })}\n        </tr>\n      </thead>\n    );\n  }\n\n  td(cell: Cell) {\n    return <td style={this.resetStyle()}>{cell.data}</td>;\n  }\n\n  tr(row: Row) {\n    return (\n      <tr style={this.resetStyle()}>\n        {row.cells.map((cell: Cell) => {\n          return this.td(cell);\n        })}\n      </tr>\n    );\n  }\n\n  body() {\n    return (\n      <tbody style={this.resetStyle()}>\n        {this.props.data &&\n          this.props.data.rows.map((row: Row) => {\n            return this.tr(row);\n          })}\n      </tbody>\n    );\n  }\n\n  render() {\n    return (\n      <table\n        style={{\n          position: 'absolute',\n          zIndex: '-2147483640',\n          visibility: 'hidden',\n          tableLayout: 'auto',\n          width: 'auto',\n          ...this.resetStyle(),\n        }}\n      >\n        {this.head()}\n        {this.body()}\n      </table>\n    );\n  }\n}\n","import { BaseComponent, BaseProps } from './view/base';\nimport { Fragment, h, VNode } from 'preact';\nimport log from './util/log';\n\nexport enum PluginPosition {\n  Header,\n  Footer,\n}\n\nexport interface Plugin {\n  id: string;\n  position: PluginPosition;\n  component: VNode<any>;\n  order?: number;\n}\n\nexport class PluginManager {\n  private readonly plugins: Plugin[];\n\n  constructor() {\n    this.plugins = [];\n  }\n\n  get(id: string): Plugin | null {\n    const plugins = this.plugins.filter((p) => p.id === id);\n\n    if (plugins.length > 0) {\n      return plugins[0];\n    }\n\n    return null;\n  }\n\n  add(plugin: Plugin): this {\n    if (!plugin.id) {\n      log.error('Plugin ID cannot be empty');\n      return this;\n    }\n\n    if (this.get(plugin.id) !== null) {\n      log.error(`Duplicate plugin ID: ${plugin.id}`);\n      return this;\n    }\n\n    this.plugins.push(plugin);\n    return this;\n  }\n\n  remove(id: string): this {\n    this.plugins.splice(this.plugins.indexOf(this.get(id)), 1);\n    return this;\n  }\n\n  list(position?: PluginPosition): Plugin[] {\n    let plugins: Plugin[];\n\n    if (position != null || position != undefined) {\n      plugins = this.plugins.filter((p) => p.position === position);\n    } else {\n      plugins = this.plugins;\n    }\n\n    return plugins.sort((a, b) => a.order - b.order);\n  }\n}\n\nexport interface PluginRendererProps extends BaseProps {\n  position?: PluginPosition;\n}\n\nexport class PluginRenderer extends BaseComponent<PluginRendererProps, {}> {\n  render() {\n    return h(\n      Fragment,\n      {},\n      this.config.plugin.list(this.props.position).map((p) => p.component),\n    );\n  }\n}\n","import { OneDArray, TColumn } from './types';\nimport Base from './base';\nimport { UserConfig } from './config';\nimport Tabular from './tabular';\nimport { width, px, getWidth } from './util/width';\nimport { ShadowTable } from './view/table/shadow';\nimport { createRef, h, isValidElement, RefObject, render } from 'preact';\nimport { camelCase } from './util/string';\n\nclass Header extends Base {\n  private _columns: OneDArray<TColumn>;\n\n  constructor() {\n    super();\n\n    this._columns = [];\n  }\n\n  get columns(): OneDArray<TColumn> {\n    return this._columns;\n  }\n\n  set columns(columns) {\n    this._columns = columns;\n  }\n\n  /**\n   * Tries to automatically adjust the width of columns based on:\n   *    - Header cell content\n   *    - Cell content of the first row\n   *    - Cell content of the last row\n   *\n   * @param container\n   * @param tempRef\n   * @param data\n   * @param autoWidth\n   */\n  adjustWidth(\n    container: Element,\n    tempRef: RefObject<HTMLDivElement>,\n    data: Tabular,\n    autoWidth = true,\n  ): this {\n    if (!container) {\n      // we can't calculate the width because the container\n      // is unknown at this stage\n      return this;\n    }\n\n    // pixels\n    const containerWidth = container.clientWidth;\n\n    // let's create a shadow table with the first 10 rows of the data\n    // and let the browser to render the table with table-layout: auto\n    // no padding, margin or border to get the minimum space required\n    // to render columns. One the table is rendered and widths are known,\n    // we unmount the shadow table from the DOM and set the correct width\n    const shadowTable = createRef();\n    if (data && data.length && autoWidth) {\n      // render a ShadowTable with the first 10 rows\n      const el = h(ShadowTable, {\n        data: Tabular.fromRows(data.rows.slice(0, 10)),\n        header: this,\n      });\n      el.ref = shadowTable;\n\n      // TODO: we should NOT query the container here. use Refs instead\n      render(el, tempRef.current);\n    }\n\n    for (const column of this.columns) {\n      if (!column.width && autoWidth) {\n        // tries to find the corresponding cell\n        // from the ShadowTable and set the correct width\n        column.width = px(\n          getWidth(shadowTable.current.base, this.columns.indexOf(column)),\n        );\n      } else {\n        column.width = px(width(column.width, containerWidth));\n      }\n    }\n\n    if (data && data.length && autoWidth) {\n      // unmount the shadow table from temp\n      render(null, tempRef.current);\n    }\n\n    return this;\n  }\n\n  private setSort(userConfig: UserConfig): void {\n    for (const column of this.columns) {\n      // implicit userConfig.sort flag\n      if (column.sort === undefined && userConfig.sort) {\n        column.sort = {\n          enabled: true,\n        };\n      }\n\n      // false, null, etc.\n      if (!column.sort) {\n        column.sort = {\n          enabled: false,\n        };\n      } else if (typeof column.sort === 'object') {\n        column.sort = {\n          enabled: true,\n          ...column.sort,\n        };\n      }\n    }\n  }\n\n  private setFixedHeader(userConfig: UserConfig): void {\n    for (const column of this.columns) {\n      if (column.fixedHeader === undefined) {\n        column.fixedHeader = userConfig.fixedHeader;\n      }\n    }\n  }\n\n  private setID(): void {\n    for (const column of this.columns) {\n      if (!column.id && typeof column.name === 'string') {\n        // let's guess the column ID if it's undefined\n        column.id = camelCase(column.name);\n      }\n    }\n  }\n\n  static fromUserConfig(userConfig: UserConfig): Header | null {\n    const header = new Header();\n\n    if (userConfig.from) {\n      header.columns = Header.fromHTMLTable(userConfig.from).columns;\n    } else if (userConfig.columns) {\n      for (const column of userConfig.columns) {\n        if (typeof column === 'string' || isValidElement(column)) {\n          header.columns.push({\n            name: column,\n          });\n        } else if (typeof column === 'object') {\n          header.columns.push(column as TColumn);\n        }\n      }\n    } else if (\n      userConfig.data &&\n      typeof userConfig.data[0] === 'object' &&\n      !(userConfig.data[0] instanceof Array)\n    ) {\n      // if data[0] is an object but not an Array\n      header.columns = Object.keys(userConfig.data[0]).map((name) => {\n        return { name: name };\n      });\n    }\n\n    if (header.columns.length) {\n      header.setID();\n      header.setSort(userConfig);\n      header.setFixedHeader(userConfig);\n      return header;\n    }\n\n    return null;\n  }\n\n  static fromHTMLTable(element: HTMLElement): Header {\n    const header = new Header();\n    const thead = element.querySelector('thead');\n    const ths = thead.querySelectorAll('th');\n\n    for (const th of ths as any) {\n      header.columns.push({\n        name: th.innerHTML,\n        width: th.width,\n      });\n    }\n\n    return header;\n  }\n}\n\nexport default Header;\n","export function camelCase(str: string): string {\n  return str.replace(/(?:^\\w|[A-Z]|\\b\\w|\\s+)/g, function (match, index) {\n    if (+match === 0) return ''; // or if (/\\s+/.test(match)) for white spaces\n    return index === 0 ? match.toLowerCase() : match.toUpperCase();\n  });\n}\n","const _prefix = 'ID_';\n\n/**\n * This class is mostly based on Flux's Dispatcher by Facebook\n * https://github.com/facebook/flux/blob/master/src/Dispatcher.js\n */\nexport default class Dispatcher<TPayload> {\n  _callbacks: { [key: string]: (payload: TPayload) => void };\n  _isDispatching: boolean;\n  _isHandled: { [key: string]: boolean };\n  _isPending: { [key: string]: boolean };\n  _lastID: number;\n  _pendingPayload: TPayload;\n\n  constructor() {\n    this._callbacks = {};\n    this._isDispatching = false;\n    this._isHandled = {};\n    this._isPending = {};\n    this._lastID = 1;\n  }\n  /**\n   * Registers a callback to be invoked with every dispatched payload. Returns\n   * a token that can be used with `waitFor()`.\n   */\n  register(callback: (payload: TPayload) => void): string {\n    const id = _prefix + this._lastID++;\n    this._callbacks[id] = callback;\n    return id;\n  }\n  /**\n   * Removes a callback based on its token.\n   */\n  unregister(id: string): void {\n    if (!this._callbacks[id]) {\n      throw Error(\n        `Dispatcher.unregister(...): ${id} does not map to a registered callback.`,\n      );\n    }\n\n    delete this._callbacks[id];\n  }\n  /**\n   * Waits for the callbacks specified to be invoked before continuing execution\n   * of the current callback. This method should only be used by a callback in\n   * response to a dispatched payload.\n   */\n  waitFor(ids: Array<string>): void {\n    if (!this._isDispatching) {\n      throw Error(\n        'Dispatcher.waitFor(...): Must be invoked while dispatching.',\n      );\n    }\n\n    for (let ii = 0; ii < ids.length; ii++) {\n      const id = ids[ii];\n      if (this._isPending[id]) {\n        if (!this._isHandled[id]) {\n          throw Error(`Dispatcher.waitFor(...): Circular dependency detected while ' +\n            'waiting for ${id}.`);\n        }\n        continue;\n      }\n      if (!this._callbacks[id]) {\n        throw Error(\n          `Dispatcher.waitFor(...): ${id} does not map to a registered callback.`,\n        );\n      }\n\n      this._invokeCallback(id);\n    }\n  }\n  /**\n   * Dispatches a payload to all registered callbacks.\n   */\n  dispatch(payload: TPayload): void {\n    if (this._isDispatching) {\n      throw Error(\n        'Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.',\n      );\n    }\n\n    this._startDispatching(payload);\n    try {\n      for (const id in this._callbacks) {\n        if (this._isPending[id]) {\n          continue;\n        }\n        this._invokeCallback(id);\n      }\n    } finally {\n      this._stopDispatching();\n    }\n  }\n  /**\n   * Is this Dispatcher currently dispatching.\n   */\n  isDispatching(): boolean {\n    return this._isDispatching;\n  }\n  /**\n   * Call the callback stored with the given id. Also do some internal\n   * bookkeeping.\n   *\n   * @internal\n   */\n  private _invokeCallback(id: string): void {\n    this._isPending[id] = true;\n    this._callbacks[id](this._pendingPayload);\n    this._isHandled[id] = true;\n  }\n  /**\n   * Set up bookkeeping needed when dispatching.\n   *\n   * @internal\n   */\n  private _startDispatching(payload: TPayload): void {\n    for (const id in this._callbacks) {\n      this._isPending[id] = false;\n      this._isHandled[id] = false;\n    }\n    this._pendingPayload = payload;\n    this._isDispatching = true;\n  }\n  /**\n   * Clear bookkeeping used for dispatching.\n   *\n   * @internal\n   */\n  private _stopDispatching(): void {\n    delete this._pendingPayload;\n    this._isDispatching = false;\n  }\n}\n","/**\n * Base Storage class. All storage implementation must inherit this class\n */\nimport { TData } from '../types';\n\nabstract class Storage<I> {\n  /**\n   * Returns all rows based on ...args\n   * @param args\n   */\n  abstract async get(...args): Promise<StorageResponse>;\n\n  /**\n   * To set all rows\n   *\n   * @param data\n   */\n  set?(data: I | Function): this;\n}\n\nexport interface StorageResponse {\n  data: TData;\n  total: number;\n}\n\nexport default Storage;\n","import Storage, { StorageResponse } from './storage';\nimport { TData } from '../types';\n\nclass MemoryStorage extends Storage<TData> {\n  private data: (() => TData) | (() => Promise<TData>);\n\n  constructor(data: TData | (() => TData) | (() => Promise<TData>)) {\n    super();\n    this.set(data);\n  }\n\n  public async get(): Promise<StorageResponse> {\n    const data = await this.data();\n\n    return {\n      data: data,\n      total: data.length,\n    };\n  }\n\n  public set(data: TData | (() => TData) | (() => Promise<TData>)): this {\n    if (data instanceof Array) {\n      this.data = (): TData => data;\n    } else if (data instanceof Function) {\n      this.data = data;\n    }\n\n    return this;\n  }\n}\n\nexport default MemoryStorage;\n","/**\n * Centralized logging lib\n *\n * This class needs some improvements but so far it has been used to have a coherent way to log\n */\nclass Logger {\n  private format(message: string, type: string): string {\n    return `[Grid.js] [${type.toUpperCase()}]: ${message}`;\n  }\n\n  error(message: string, throwException = false): void {\n    const msg = this.format(message, 'error');\n\n    if (throwException) {\n      throw Error(msg);\n    } else {\n      console.error(msg);\n    }\n  }\n\n  warn(message: string): void {\n    console.warn(this.format(message, 'warn'));\n  }\n\n  info(message: string): void {\n    console.info(this.format(message, 'info'));\n  }\n}\n\nexport default new Logger();\n","import Storage, { StorageResponse } from './storage';\nimport log from '../util/log';\n\nexport interface ServerStorageOptions extends RequestInit {\n  url: string;\n  // to format the data and columns\n  then?: (data: any) => any[][];\n  // to handle the response from the server. `handle` will\n  // be called first and then `then` callback will be invoked\n  // The purpose of this function is to handle the behaviour\n  // of server and either reject and resolve the initial response\n  // before calling the `then` function\n  handle?: (response: Response) => Promise<any>;\n  total?: (data: any) => number;\n  // to bypass the current implementation of ServerStorage and process the\n  // request manually (e.g. when user wants to connect their own SDK/HTTP Client)\n  data?: (opts: ServerStorageOptions) => Promise<StorageResponse>;\n}\n\nclass ServerStorage extends Storage<ServerStorageOptions> {\n  private readonly options: ServerStorageOptions;\n\n  constructor(options: ServerStorageOptions) {\n    super();\n    this.options = options;\n  }\n\n  private handler(response: Response): Promise<any> {\n    if (typeof this.options.handle === 'function') {\n      return this.options.handle(response);\n    }\n\n    if (response.ok) {\n      return response.json();\n    } else {\n      log.error(\n        `Could not fetch data: ${response.status} - ${response.statusText}`,\n        true,\n      );\n      return null;\n    }\n  }\n\n  public get(options?: ServerStorageOptions): Promise<StorageResponse> {\n    // this.options is the initial config object\n    // options is the runtime config passed by the pipeline (e.g. search component)\n    const opts = {\n      ...this.options,\n      ...options,\n    };\n\n    // if `options.data` is provided, the current ServerStorage\n    // implementation will be ignored and we let options.data to\n    // handle the request. Useful when HTTP client needs to be\n    // replaced with something else\n    if (typeof opts.data === 'function') {\n      return opts.data(opts);\n    }\n\n    return fetch(opts.url, opts)\n      .then(this.handler.bind(this))\n      .then((res) => {\n        return {\n          data: opts.then(res),\n          total: typeof opts.total === 'function' ? opts.total(res) : undefined,\n        };\n      });\n  }\n}\n\nexport default ServerStorage;\n","import { UserConfig } from '../config';\nimport MemoryStorage from './memory';\nimport Storage from './storage';\nimport ServerStorage from './server';\nimport log from '../util/log';\nimport { html } from '../util/html';\n\nclass StorageUtils {\n  /**\n   * Accepts the userConfig dict and tries to guess and return a Storage type\n   *\n   * @param userConfig\n   */\n  public static createFromUserConfig(userConfig: UserConfig): Storage<any> {\n    let storage = null;\n    // `data` array is provided\n    if (userConfig.data) {\n      storage = new MemoryStorage(userConfig.data);\n    }\n\n    if (userConfig.from) {\n      storage = new MemoryStorage(this.tableElementToArray(userConfig.from));\n      // remove the source table element from the DOM\n      userConfig.from.style.display = 'none';\n    }\n\n    if (userConfig.server) {\n      storage = new ServerStorage(userConfig.server);\n    }\n\n    if (!storage) {\n      log.error('Could not determine the storage type', true);\n    }\n\n    return storage;\n  }\n\n  /**\n   * Accepts a HTML table element and converts it into a 2D array of data\n   *\n   * TODO: This function can be a step in the pipeline: Convert Table -> Load into a memory storage -> ...\n   *\n   * @param element\n   */\n  static tableElementToArray(element: HTMLElement): any[][] {\n    const arr = [];\n    const tbody = element.querySelector('tbody');\n    const rows = tbody.querySelectorAll('tr');\n\n    for (const row of rows as any) {\n      const cells: HTMLElement[] = row.querySelectorAll('td');\n      const parsedRow = [];\n\n      for (const cell of cells) {\n        // try to capture a TD with single text element first\n        if (\n          cell.childNodes.length === 1 &&\n          cell.childNodes[0].nodeType === Node.TEXT_NODE\n        ) {\n          parsedRow.push(cell.innerHTML);\n        } else {\n          parsedRow.push(html(cell.innerHTML));\n        }\n      }\n\n      arr.push(parsedRow);\n    }\n\n    return arr;\n  }\n}\n\nexport default StorageUtils;\n","import { PipelineProcessor, ProcessorType } from './processor';\nimport { ID } from '../util/id';\nimport log from '../util/log';\nimport { EventEmitter } from '../util/eventEmitter';\n\ninterface PipelineEvents<T> {\n  /**\n   * Generic updated event. Triggers the callback function when the pipeline\n   * is updated, including when a new processor is registered, a processor's props\n   * get updated, etc.\n   */\n  updated: (processor: PipelineProcessor<any, any>) => void;\n  /**\n   * Triggers the callback function when a new\n   * processor is registered successfully\n   */\n  afterRegister: () => void;\n  /**\n   * Triggers the callback when a registered\n   * processor's property is updated\n   */\n  propsUpdated: () => void;\n  /**\n   * Triggers the callback function when the pipeline\n   * is fully processed, before returning the results\n   *\n   * afterProcess will not be called if there is an\n   * error in the pipeline (i.e a step throw an Error)\n   */\n  afterProcess: (prev: T) => void;\n  /**\n   * Triggers the callback function when the pipeline\n   * fails to process all steps or at least one step\n   * throws an Error\n   */\n  error: (prev: T) => void;\n}\n\nclass Pipeline<T, P = {}> extends EventEmitter<PipelineEvents<T>> {\n  // available steps for this pipeline\n  private readonly _steps: Map<\n    ProcessorType,\n    PipelineProcessor<T, P>[]\n  > = new Map<ProcessorType, PipelineProcessor<T, P>[]>();\n  // used to cache the results of processors using their id field\n  private cache: Map<string, any> = new Map<string, any>();\n  // keeps the index of the last updated processor in the registered\n  // processors list and will be used to invalidate the cache\n  // -1 means all new processors should be processed\n  private lastProcessorIndexUpdated = -1;\n\n  constructor(steps?: PipelineProcessor<any, any>[]) {\n    super();\n\n    if (steps) {\n      steps.forEach((step) => this.register(step));\n    }\n  }\n\n  /**\n   * Clears the `cache` array\n   */\n  clearCache(): void {\n    this.cache = new Map<string, any>();\n    this.lastProcessorIndexUpdated = -1;\n  }\n\n  /**\n   * Registers a new processor\n   *\n   * @param processor\n   * @param priority\n   */\n  register(\n    processor: PipelineProcessor<any, any>,\n    priority: number = null,\n  ): void {\n    if (processor.type === null) {\n      throw Error('Processor type is not defined');\n    }\n\n    // binding the propsUpdated callback to the Pipeline\n    processor.on('propsUpdated', this.processorPropsUpdated.bind(this));\n\n    this.addProcessorByPriority(processor, priority);\n    this.afterRegistered(processor);\n  }\n\n  /**\n   * Removes a processor from the list\n   *\n   * @param processor\n   */\n  unregister(processor: PipelineProcessor<any, any>): void {\n    if (!processor) return;\n\n    const subSteps = this._steps.get(processor.type);\n\n    if (subSteps && subSteps.length) {\n      this._steps.set(\n        processor.type,\n        subSteps.filter((proc) => proc != processor),\n      );\n      this.emit('updated', processor);\n    }\n  }\n\n  /**\n   * Registers a new processor\n   *\n   * @param processor\n   * @param priority\n   */\n  private addProcessorByPriority(\n    processor: PipelineProcessor<T, P>,\n    priority: number,\n  ): void {\n    let subSteps = this._steps.get(processor.type);\n\n    if (!subSteps) {\n      const newSubStep = [];\n      this._steps.set(processor.type, newSubStep);\n      subSteps = newSubStep;\n    }\n\n    if (priority === null || priority < 0) {\n      subSteps.push(processor);\n    } else {\n      if (!subSteps[priority]) {\n        // slot is empty\n        subSteps[priority] = processor;\n      } else {\n        // slot is NOT empty\n        const first = subSteps.slice(0, priority - 1);\n        const second = subSteps.slice(priority + 1);\n\n        this._steps.set(processor.type, first.concat(processor).concat(second));\n      }\n    }\n  }\n\n  /**\n   * Flattens the _steps Map and returns a list of steps with their correct priorities\n   */\n  get steps(): PipelineProcessor<T, P>[] {\n    let steps: PipelineProcessor<T, P>[] = [];\n\n    for (const type of this.getSortedProcessorTypes()) {\n      const subSteps = this._steps.get(type);\n\n      if (subSteps && subSteps.length) {\n        steps = steps.concat(subSteps);\n      }\n    }\n\n    // to remove any undefined elements\n    return steps.filter((s) => s);\n  }\n\n  /**\n   * Accepts ProcessType and returns an array of the registered processes\n   * with the give type\n   *\n   * @param type\n   */\n  getStepsByType(type: ProcessorType): PipelineProcessor<T, P>[] {\n    return this.steps.filter((process) => process.type === type);\n  }\n\n  /**\n   * Returns a list of ProcessorType according to their priority\n   */\n  private getSortedProcessorTypes(): ProcessorType[] {\n    return Object.keys(ProcessorType)\n      .filter((key) => !isNaN(Number(key)))\n      .map((key) => Number(key));\n  }\n\n  /**\n   * Runs all registered processors based on their correct priority\n   * and returns the final output after running all steps\n   *\n   * @param data\n   */\n  async process(data?: T): Promise<T> {\n    const lastProcessorIndexUpdated = this.lastProcessorIndexUpdated;\n    const steps = this.steps;\n\n    let prev = data;\n\n    try {\n      for (const processor of steps) {\n        const processorIndex = this.findProcessorIndexByID(processor.id);\n\n        if (processorIndex >= lastProcessorIndexUpdated) {\n          // we should execute process() here since the last\n          // updated processor was before \"processor\".\n          // This is to ensure that we always have correct and up to date\n          // data from processors and also to skip them when necessary\n          prev = await processor.process(prev);\n          this.cache.set(processor.id, prev);\n        } else {\n          // cached results already exist\n          prev = this.cache.get(processor.id);\n        }\n      }\n    } catch (e) {\n      log.error(e);\n      // trigger the onError callback\n      this.emit('error', prev);\n\n      // rethrow\n      throw e;\n    }\n\n    // means the pipeline is up to date\n    this.lastProcessorIndexUpdated = steps.length;\n\n    // triggers the afterProcess callbacks with the results\n    this.emit('afterProcess', prev);\n\n    return prev;\n  }\n\n  /**\n   * Returns the registered processor's index in _steps array\n   *\n   * @param processorID\n   */\n  private findProcessorIndexByID(processorID: ID): number {\n    return this.steps.findIndex((p) => p.id == processorID);\n  }\n\n  /**\n   * Sets the last updates processors index locally\n   * This is used to invalid or skip a processor in\n   * the process() method\n   */\n  private setLastProcessorIndex(processor: PipelineProcessor<T, P>): void {\n    const processorIndex = this.findProcessorIndexByID(processor.id);\n\n    if (this.lastProcessorIndexUpdated > processorIndex) {\n      this.lastProcessorIndexUpdated = processorIndex;\n    }\n  }\n\n  private processorPropsUpdated(processor): void {\n    this.setLastProcessorIndex(processor);\n    this.emit('propsUpdated');\n    this.emit('updated', processor);\n  }\n\n  private afterRegistered(processor): void {\n    this.setLastProcessorIndex(processor);\n    this.emit('afterRegister');\n    this.emit('updated', processor);\n  }\n}\n\nexport default Pipeline;\n","import Storage, { StorageResponse } from '../../storage/storage';\nimport {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\n\ninterface StorageExtractorProps extends PipelineProcessorProps {\n  storage: Storage<any>;\n}\n\nclass StorageExtractor extends PipelineProcessor<\n  Promise<StorageResponse>,\n  StorageExtractorProps\n> {\n  get type(): ProcessorType {\n    return ProcessorType.Extractor;\n  }\n\n  async _process(opts: any): Promise<StorageResponse> {\n    return await this.props.storage.get(opts);\n  }\n}\n\nexport default StorageExtractor;\n","import { PipelineProcessor, ProcessorType } from '../processor';\nimport Tabular from '../../tabular';\nimport { ArrayResponse } from './storageResponseToArray';\n\nclass ArrayToTabularTransformer extends PipelineProcessor<Tabular, {}> {\n  get type(): ProcessorType {\n    return ProcessorType.Transformer;\n  }\n\n  _process(arrayResponse: ArrayResponse): Tabular {\n    const tabular = Tabular.fromArray(arrayResponse.data);\n\n    // for server-side storage\n    tabular.length = arrayResponse.total;\n\n    return tabular;\n  }\n}\n\nexport default ArrayToTabularTransformer;\n","import {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\nimport { ServerStorageOptions } from '../../storage/server';\n\ninterface ServerInitiatorProps extends PipelineProcessorProps {\n  serverStorageOptions: ServerStorageOptions;\n}\n\nclass ServerInitiator extends PipelineProcessor<\n  ServerStorageOptions,\n  ServerInitiatorProps\n> {\n  get type(): ProcessorType {\n    return ProcessorType.Initiator;\n  }\n\n  _process(): ServerStorageOptions {\n    return Object.entries(this.props.serverStorageOptions)\n      .filter(([_, val]) => typeof val !== 'function')\n      .reduce(\n        (acc, [k, v]) => ({ ...acc, [k]: v }),\n        {},\n      ) as ServerStorageOptions;\n  }\n}\n\nexport default ServerInitiator;\n","import {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\nimport { StorageResponse } from '../../storage/storage';\nimport { TCell, TData, TDataArray, TDataObject, TwoDArray } from '../../types';\nimport Header from '../../header';\n\nexport interface ArrayResponse {\n  data: TwoDArray<TCell>;\n  total: number;\n}\n\ninterface StorageResponseToArrayTransformerProps\n  extends PipelineProcessorProps {\n  header: Header;\n}\n\nclass StorageResponseToArrayTransformer extends PipelineProcessor<\n  ArrayResponse,\n  StorageResponseToArrayTransformerProps\n> {\n  get type(): ProcessorType {\n    return ProcessorType.Transformer;\n  }\n\n  private castData(data: TData): TwoDArray<TCell> {\n    if (!data || !data.length) {\n      return [];\n    }\n\n    // if it's a 2d array already\n    if (data[0] instanceof Array) {\n      return data as TDataArray;\n    }\n\n    // if it's an array of objects (but not array of arrays)\n    if (typeof data[0] === 'object' && !(data[0] instanceof Array)) {\n      return (data as TDataObject).map((row) =>\n        this.props.header.columns.map((column) => {\n          if (typeof column.id === 'function') {\n            return column.id(row);\n          } else {\n            return row[column.id];\n          }\n        }),\n      );\n    }\n\n    return [];\n  }\n\n  _process(storageResponse: StorageResponse): ArrayResponse {\n    return {\n      data: this.castData(storageResponse.data),\n      total: storageResponse.total,\n    };\n  }\n}\n\nexport default StorageResponseToArrayTransformer;\n","import { Config } from '../config';\nimport Pipeline from './pipeline';\nimport Tabular from '../tabular';\nimport StorageExtractor from './extractor/storage';\nimport ArrayToTabularTransformer from './transformer/arrayToTabular';\nimport ServerStorage from '../storage/server';\nimport ServerInitiator from './initiator/server';\nimport StorageResponseToArrayTransformer from './transformer/storageResponseToArray';\n\nclass PipelineUtils {\n  static createFromConfig(config: Config): Pipeline<Tabular> {\n    const pipeline = new Pipeline<Tabular>();\n\n    if (config.storage instanceof ServerStorage) {\n      pipeline.register(\n        new ServerInitiator({\n          serverStorageOptions: config.server,\n        }),\n      );\n    }\n\n    pipeline.register(new StorageExtractor({ storage: config.storage }));\n    pipeline.register(\n      new StorageResponseToArrayTransformer({ header: config.header }),\n    );\n    pipeline.register(new ArrayToTabularTransformer());\n\n    return pipeline;\n  }\n}\n\nexport default PipelineUtils;\n","import { ComponentChild } from 'preact';\nimport Row from './row';\nimport { SortConfig } from './view/plugin/sort/sort';\n\nexport type ProtoExtends<T, U> = U & Omit<T, keyof U>;\n\nexport type OneDArray<T> = T[];\nexport type TwoDArray<T> = T[][];\n\n/**\n * Table cell types\n */\nexport type TCell = number | string | boolean | ComponentChild | HTMLElement;\n// Array of Arrays\nexport type TDataArrayRow = OneDArray<TCell>;\nexport type TDataArray = OneDArray<TDataArrayRow>;\n// Array of Objects\nexport type TDataObjectRow = { [key: string]: TCell };\nexport type TDataObject = OneDArray<TDataObjectRow>;\n// (Array of Arrays) and (Array of Objects)\nexport type TData = TDataArray | TDataObject;\n\n// Table header cell type\nexport interface TColumn {\n  id?: string | ((row: TDataArrayRow | TDataObjectRow) => string);\n  name: string | ComponentChild;\n  width?: string;\n  sort?: SortConfig;\n  children?: OneDArray<TColumn>;\n  fixedHeader?: boolean;\n  formatter?: (cell: TCell, row: Row, column: TColumn) => ComponentChild;\n}\n\n// Comparator function for the sorting plugin\nexport type Comparator<T> = (a: T, b: T) => number;\n\nexport interface TColumnSort {\n  index: number;\n  // 1 ascending, -1 descending\n  direction?: 1 | -1;\n}\n\n// container status\nexport enum Status {\n  Init,\n  Loading,\n  Loaded,\n  Rendered,\n  Error,\n}\n\nexport type CSSDeclaration = {\n  [key: string]: string;\n};\n","import {\n  CSSDeclaration,\n  OneDArray,\n  ProtoExtends,\n  TColumn,\n  TData,\n} from './types';\nimport Storage from './storage/storage';\nimport Pipeline from './pipeline/pipeline';\nimport Tabular from './tabular';\nimport { Search, SearchConfig } from './view/plugin/search/search';\nimport { Pagination, PaginationConfig } from './view/plugin/pagination';\nimport Header from './header';\nimport { ServerStorageOptions } from './storage/server';\nimport Dispatcher from './util/dispatcher';\nimport { GenericSortConfig } from './view/plugin/sort/sort';\nimport { Language, Translator } from './i18n/language';\nimport { ComponentChild, createRef, h, RefObject } from 'preact';\nimport StorageUtils from './storage/storageUtils';\nimport PipelineUtils from './pipeline/pipelineUtils';\nimport { EventEmitter } from './util/eventEmitter';\nimport { GridEvents } from './events';\nimport { PluginManager, PluginPosition } from './plugin';\n\n// Config type used internally\nexport interface Config {\n  eventEmitter: EventEmitter<GridEvents>;\n  dispatcher: Dispatcher<any>;\n  plugin: PluginManager;\n  /** container element that is used to mount the Grid.js to */\n  container?: Element;\n  /** gridjs-temp div which is used internally */\n  tempRef?: RefObject<HTMLDivElement>;\n  data?: TData | (() => TData) | (() => Promise<TData>);\n  server?: ServerStorageOptions;\n  header?: Header;\n  /** to parse a HTML table and load the data */\n  from: HTMLElement;\n  storage: Storage<any>;\n  pipeline: Pipeline<Tabular>;\n  /** to automatically calculate the columns width */\n  autoWidth: boolean;\n  /** sets the width of the container and table */\n  width: string;\n  /** sets the height of the table */\n  height: string;\n  pagination: PaginationConfig;\n  sort: GenericSortConfig;\n  translator: Translator;\n  style?: Partial<{\n    table: CSSDeclaration;\n    td: CSSDeclaration;\n    th: CSSDeclaration;\n    container: CSSDeclaration;\n    header: CSSDeclaration;\n    footer: CSSDeclaration;\n  }>;\n  className?: Partial<{\n    table: string;\n    th: string;\n    td: string;\n    container: string;\n    footer: string;\n    header: string;\n  }>;\n}\n\n// Config type used by the consumers\ninterface UserConfigExtend {\n  /** fixes the table header to the top of the table */\n  fixedHeader: boolean;\n  columns: OneDArray<TColumn | string | ComponentChild>;\n  search: SearchConfig | boolean;\n  pagination: PaginationConfig | boolean;\n  // implicit option to enable the sort plugin globally\n  sort: GenericSortConfig | boolean;\n  language: Language;\n}\n\nexport type UserConfig = ProtoExtends<\n  Partial<Config>,\n  Partial<UserConfigExtend>\n>;\n\nexport class Config {\n  // this is the config file passed by the user\n  // we need this for Config.update()\n  private _userConfig: UserConfig;\n\n  constructor(config?: Partial<Config>) {\n    Object.assign(this, {\n      ...Config.defaultConfig(),\n      ...config,\n    });\n\n    this._userConfig = {};\n  }\n\n  /**\n   * Assigns `updatedConfig` keys to the current config file\n   *\n   * @param updatedConfig\n   */\n  assign(updatedConfig: Partial<Config>): Config {\n    for (const key of Object.keys(updatedConfig)) {\n      // because we don't want to update the _userConfig cache\n      if (key === '_userConfig') continue;\n\n      this[key] = updatedConfig[key];\n    }\n\n    return this;\n  }\n\n  /**\n   * Updates the config from a UserConfig\n   *\n   * @param userConfig\n   */\n  update(userConfig: Partial<UserConfig>): Config {\n    if (!userConfig) return this;\n\n    this._userConfig = {\n      ...this._userConfig,\n      ...userConfig,\n    };\n\n    this.assign(Config.fromUserConfig(this._userConfig));\n\n    return this;\n  }\n\n  static defaultConfig(): Config {\n    return {\n      plugin: new PluginManager(),\n      dispatcher: new Dispatcher<any>(),\n      tempRef: createRef(),\n      width: '100%',\n      height: 'auto',\n      autoWidth: true,\n      style: {},\n      className: {},\n    } as Config;\n  }\n\n  static fromUserConfig(userConfig: UserConfig): Config {\n    const config = new Config(userConfig as Config);\n\n    // to set the initial _userConfig object\n    config._userConfig = userConfig;\n\n    // Sort\n    if (typeof userConfig.sort === 'boolean' && userConfig.sort) {\n      config.assign({\n        sort: {\n          multiColumn: true,\n        },\n      });\n    }\n\n    // Header\n    config.assign({\n      header: Header.fromUserConfig(config),\n    });\n\n    config.assign({\n      storage: StorageUtils.createFromUserConfig(userConfig),\n    });\n\n    config.assign({\n      pipeline: PipelineUtils.createFromConfig(config),\n    });\n\n    // Translator\n    config.assign({\n      translator: new Translator(userConfig.language),\n    });\n\n    // Search\n    config.plugin.add({\n      id: 'search',\n      position: PluginPosition.Header,\n      component: h(Search, {\n        enabled:\n          userConfig.search === true || userConfig.search instanceof Object,\n        ...(userConfig.search as SearchConfig),\n      }),\n    });\n\n    // Pagination\n    config.plugin.add({\n      id: 'pagination',\n      position: PluginPosition.Footer,\n      component: h(Pagination, {\n        enabled:\n          userConfig.pagination === true ||\n          userConfig.pagination instanceof Object,\n        ...(userConfig.pagination as PaginationConfig),\n      }),\n    });\n\n    return config;\n  }\n}\n","import { ComponentChild, h, JSX } from 'preact';\n\nimport Cell from '../../cell';\nimport { BaseComponent, BaseProps } from '../base';\nimport { classJoin, className } from '../../util/className';\nimport { TColumn } from '../../types';\nimport Row from '../../row';\n\nexport interface TDProps extends BaseProps {\n  cell: Cell;\n  row?: Row;\n  column?: TColumn;\n  colSpan?: number;\n  className?: string;\n  role?: string;\n}\n\nexport class TD extends BaseComponent<TDProps, {}> {\n  private content(): ComponentChild {\n    if (\n      this.props.column &&\n      typeof this.props.column.formatter === 'function'\n    ) {\n      return this.props.column.formatter(\n        this.props.cell.data,\n        this.props.row,\n        this.props.column,\n      );\n    }\n\n    return this.props.cell.data;\n  }\n\n  private handleClick(e: JSX.TargetedMouseEvent<HTMLTableCellElement>): void {\n    this.config.eventEmitter.emit(\n      'cellClick',\n      e,\n      this.props.cell,\n      this.props.column,\n      this.props.row,\n    );\n  }\n\n  render() {\n    return (\n      <td\n        role={this.props.role}\n        colSpan={this.props.colSpan}\n        className={classJoin(\n          className('td'),\n          this.props.className,\n          this.config.className.td,\n        )}\n        style={{\n          ...this.config.style.td,\n        }}\n        onClick={this.handleClick.bind(this)}\n      >\n        {this.content()}\n      </td>\n    );\n  }\n}\n","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__r,f=n.diffed,e=n.__c,a=n.unmount;function v(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function m(n){return o=1,l(k,n)}function l(n,r,o){var i=v(t++,2);return i.t=n,i.__c||(i.__c=u,i.__=[o?o(r):k(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}]),i.__}function p(r,o){var i=v(t++,3);!n.__s&&j(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function y(r,o){var i=v(t++,4);!n.__s&&j(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function h(n){return o=5,_(function(){return{current:void 0===n?null:n}},[])}function s(n,t,u){o=6,y(function(){\"function\"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))}function _(n,u){var r=v(t++,7);return j(r.__H,u)?(r.__H=u,r.__h=n,r.__=n()):r.__}function d(n,t){return o=8,_(function(){return n},t)}function A(n){var r=u.context[n.__c],o=v(t++,9);return o.__c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function F(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function T(n){var r=v(t++,10),o=m();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function q(){i.some(function(t){if(t.__P)try{t.__H.__h.forEach(b),t.__H.__h.forEach(g),t.__H.__h=[]}catch(u){return t.__H.__h=[],n.__e(u,t.__v),!0}}),i=[]}n.__r=function(n){c&&c(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(b),r.__h.forEach(g),r.__h=[])},n.diffed=function(t){f&&f(t);var u=t.__c;u&&u.__H&&u.__H.__h.length&&(1!==i.push(u)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),x&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);x&&(t=requestAnimationFrame(u))})(q))},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(b),t.__h=t.__h.filter(function(n){return!n.__||g(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),e&&e(t,u)},n.unmount=function(t){a&&a(t);var u=t.__c;if(u&&u.__H)try{u.__H.__.forEach(b)}catch(t){n.__e(t,u.__v)}};var x=\"function\"==typeof requestAnimationFrame;function b(n){\"function\"==typeof n.u&&n.u()}function g(n){n.u=n.__()}function j(n,t){return!n||t.some(function(t,u){return t!==n[u]})}function k(n,t){return\"function\"==typeof t?t(n):t}export{m as useState,l as useReducer,p as useEffect,y as useLayoutEffect,h as useRef,s as useImperativeHandle,_ as useMemo,d as useCallback,A as useContext,F as useDebugValue,T as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","import { h, JSX } from 'preact';\n\nimport Row from '../../row';\nimport Cell from '../../cell';\nimport { BaseComponent, BaseProps } from '../base';\nimport { className } from '../../util/className';\nimport { TColumn } from '../../types';\nimport { TD } from './td';\nimport Header from '../../header';\n\nexport interface TRProps extends BaseProps {\n  row?: Row;\n  header?: Header;\n}\n\nexport class TR extends BaseComponent<TRProps, {}> {\n  private getColumn(cellIndex: number): TColumn {\n    if (this.props.header) {\n      return this.props.header.columns[cellIndex];\n    }\n\n    return null;\n  }\n\n  private handleClick(e: JSX.TargetedMouseEvent<HTMLTableRowElement>): void {\n    this.config.eventEmitter.emit('rowClick', e, this.props.row);\n  }\n\n  render() {\n    if (this.props.children) {\n      return <tr className={className('tr')}>{this.props.children}</tr>;\n    } else {\n      return (\n        <tr className={className('tr')} onClick={this.handleClick.bind(this)}>\n          {this.props.row.cells.map((cell: Cell, i) => {\n            return (\n              <TD\n                key={cell.id}\n                cell={cell}\n                row={this.props.row}\n                column={this.getColumn(i)}\n              />\n            );\n          })}\n        </tr>\n      );\n    }\n  }\n}\n","import { h } from 'preact';\n\nimport Cell from '../../cell';\nimport { BaseComponent, BaseProps } from '../base';\nimport { classJoin, className } from '../../util/className';\nimport { TR } from './tr';\nimport { TD } from './td';\n\nexport interface MessageRowProps extends BaseProps {\n  message: string;\n  colSpan?: number;\n  className?: string;\n}\n\nexport class MessageRow extends BaseComponent<MessageRowProps, {}> {\n  render() {\n    return (\n      <TR>\n        <TD\n          role=\"alert\"\n          colSpan={this.props.colSpan}\n          cell={new Cell(this.props.message)}\n          className={classJoin(\n            className('message'),\n            this.props.className ? this.props.className : null,\n          )}\n        />\n      </TR>\n    );\n  }\n}\n","import { h } from 'preact';\n\nimport Row from '../../row';\nimport { TR } from './tr';\nimport Tabular from '../../tabular';\nimport { BaseComponent, BaseProps } from '../base';\nimport { className } from '../../util/className';\nimport { Status } from '../../types';\nimport Header from '../../header';\nimport { MessageRow } from './messageRow';\n\ninterface TBodyProps extends BaseProps {\n  data: Tabular;\n  status: Status;\n  header?: Header;\n}\n\nexport class TBody extends BaseComponent<TBodyProps, {}> {\n  private headerLength(): number {\n    if (this.props.header) {\n      return this.props.header.columns.length;\n    }\n    return 0;\n  }\n\n  render() {\n    return (\n      <tbody className={className('tbody')}>\n        {this.props.data &&\n          this.props.data.rows.map((row: Row) => {\n            return <TR key={row.id} row={row} header={this.props.header} />;\n          })}\n\n        {this.props.status === Status.Loading &&\n          (!this.props.data || this.props.data.length === 0) && (\n            <MessageRow\n              message={this._('loading')}\n              colSpan={this.headerLength()}\n              className={className('loading')}\n            />\n          )}\n\n        {this.props.status === Status.Loaded &&\n          this.props.data &&\n          this.props.data.length === 0 && (\n            <MessageRow\n              message={this._('noRecordsFound')}\n              colSpan={this.headerLength()}\n              className={className('notfound')}\n            />\n          )}\n\n        {this.props.status === Status.Error && (\n          <MessageRow\n            message={this._('error')}\n            colSpan={this.headerLength()}\n            className={className('error')}\n          />\n        )}\n      </tbody>\n    );\n  }\n}\n","import { Comparator, TCell } from '../../types';\nimport Tabular from '../../tabular';\nimport {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\nimport Row from '../../row';\nimport log from '../../util/log';\n\ninterface NativeSortProps extends PipelineProcessorProps {\n  columns: {\n    index: number;\n    // 1 ascending, -1 descending\n    direction?: 1 | -1;\n    compare?: Comparator<TCell>;\n  }[];\n}\n\nclass NativeSort extends PipelineProcessor<Tabular, NativeSortProps> {\n  protected validateProps(): void {\n    for (const condition of this.props.columns) {\n      if (condition.direction === undefined) {\n        condition.direction = 1;\n      }\n\n      if (condition.direction !== 1 && condition.direction !== -1) {\n        log.error(`Invalid sort direction ${condition.direction}`);\n      }\n    }\n  }\n\n  get type(): ProcessorType {\n    return ProcessorType.Sort;\n  }\n\n  private compare(cellA: TCell, cellB: TCell): number {\n    if (cellA > cellB) {\n      return 1;\n    } else if (cellA < cellB) {\n      return -1;\n    }\n\n    return 0;\n  }\n\n  private compareWrapper(a: Row, b: Row): number {\n    let cmp = 0;\n\n    for (const column of this.props.columns) {\n      if (cmp === 0) {\n        const cellA = a.cells[column.index].data;\n        const cellB = b.cells[column.index].data;\n\n        if (typeof column.compare === 'function') {\n          cmp |= column.compare(cellA, cellB) * column.direction;\n        } else {\n          cmp |= this.compare(cellA, cellB) * column.direction;\n        }\n      } else {\n        break;\n      }\n    }\n\n    return cmp;\n  }\n\n  protected _process(data: Tabular): Tabular {\n    const sortedRows = [...data.rows];\n    sortedRows.sort(this.compareWrapper.bind(this));\n\n    const sorted = new Tabular(sortedRows);\n    // we have to set the tabular length manually\n    // because of the server-side storage\n    sorted.length = data.length;\n\n    return sorted;\n  }\n}\n\nexport default NativeSort;\n","import BaseStore from '../../base/store';\nimport { SortActionsType } from './actions';\nimport { Comparator, TCell } from '../../../types';\n\nexport type SortStoreState = {\n  index: number;\n  direction: 1 | -1;\n  compare?: Comparator<TCell>;\n}[];\n\nexport class SortStore extends BaseStore<SortStoreState, SortActionsType> {\n  getInitialState(): SortStoreState {\n    return [];\n  }\n\n  handle(type, payload): void {\n    if (type === 'SORT_COLUMN') {\n      const { index, direction, multi, compare } = payload;\n      this.sortColumn(index, direction, multi, compare);\n    } else if (type === 'SORT_COLUMN_TOGGLE') {\n      const { index, multi, compare } = payload;\n      this.sortToggle(index, multi, compare);\n    }\n  }\n\n  private sortToggle(\n    index: number,\n    multi: boolean,\n    compare: Comparator<TCell>,\n  ): void {\n    const columns = [...this.state];\n    const column = columns.find((x) => x.index === index);\n\n    if (!column) {\n      this.sortColumn(index, 1, multi, compare);\n    } else {\n      this.sortColumn(index, column.direction === 1 ? -1 : 1, multi, compare);\n    }\n  }\n\n  private sortColumn(\n    index: number,\n    direction: 1 | -1,\n    multi: boolean,\n    compare: Comparator<TCell>,\n  ): void {\n    let columns = [...this.state];\n    const count = columns.length;\n    const column = columns.find((x) => x.index === index);\n    const exists = column !== undefined;\n\n    let add = false;\n    let reset = false;\n    let remove = false;\n    let update = false;\n\n    if (!exists) {\n      // the column has not been sorted\n      if (count === 0) {\n        // the first column to be sorted\n        add = true;\n      } else if (count > 0 && !multi) {\n        // remove the previously sorted column\n        // and sort the current column\n        add = true;\n        reset = true;\n      } else if (count > 0 && multi) {\n        // multi-sorting\n        // sort this column as well\n        add = true;\n      }\n    } else {\n      // the column has been sorted before\n      if (!multi) {\n        // single column sorting\n        if (count === 1) {\n          update = true;\n        } else if (count > 1) {\n          // this situation happens when we have already entered\n          // multi-sorting mode but then user tries to sort a single column\n          reset = true;\n          add = true;\n        }\n      } else {\n        // multi sorting\n        if (column.direction === -1) {\n          // remove the current column from the\n          // sorted columns array\n          remove = true;\n        } else {\n          update = true;\n        }\n      }\n    }\n\n    if (reset) {\n      // resetting the sorted columns\n      columns = [];\n    }\n\n    if (add) {\n      columns.push({\n        index: index,\n        direction: direction,\n        compare: compare,\n      });\n    } else if (update) {\n      const index = columns.indexOf(column);\n      columns[index].direction = direction;\n    } else if (remove) {\n      const index = columns.indexOf(column);\n      columns.splice(index, 1);\n    }\n\n    this.setState(columns);\n  }\n}\n","import { BaseActions } from '../../base/actions';\nimport { Comparator, TCell } from '../../../types';\n\nexport interface SortActionsType {\n  SORT_COLUMN: {\n    index: number;\n    direction: 1 | -1;\n    multi?: boolean;\n    compare?: Comparator<TCell>;\n  };\n\n  SORT_COLUMN_TOGGLE: {\n    index: number;\n    multi?: boolean;\n    compare?: Comparator<TCell>;\n  };\n}\n\nexport class SortActions extends BaseActions<SortActionsType> {\n  sortColumn(\n    index: number,\n    direction: 1 | -1,\n    multi?: boolean,\n    compare?: Comparator<TCell>,\n  ): void {\n    this.dispatch('SORT_COLUMN', {\n      index: index,\n      direction: direction,\n      multi: multi,\n      compare: compare,\n    });\n  }\n\n  sortToggle(\n    index: number,\n    multi?: boolean,\n    compare?: Comparator<TCell>,\n  ): void {\n    this.dispatch('SORT_COLUMN_TOGGLE', {\n      index: index,\n      multi: multi,\n      compare: compare,\n    });\n  }\n}\n","import {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\nimport { ServerStorageOptions } from '../../storage/server';\nimport { TColumnSort } from '../../types';\n\ninterface ServerSortProps extends PipelineProcessorProps {\n  columns: TColumnSort[];\n  url?: (prevUrl: string, columns: TColumnSort[]) => string;\n  body?: (prevBody: BodyInit, columns: TColumnSort[]) => BodyInit;\n}\n\nclass ServerSort extends PipelineProcessor<\n  ServerStorageOptions,\n  ServerSortProps\n> {\n  get type(): ProcessorType {\n    return ProcessorType.ServerSort;\n  }\n\n  _process(options?: ServerStorageOptions): ServerStorageOptions {\n    const updates = {};\n\n    if (this.props.url) {\n      updates['url'] = this.props.url(options.url, this.props.columns);\n    }\n\n    if (this.props.body) {\n      updates['body'] = this.props.body(options.body, this.props.columns);\n    }\n\n    return {\n      ...options,\n      ...updates,\n    };\n  }\n}\n\nexport default ServerSort;\n","import { h, JSX } from 'preact';\n\nimport { BaseComponent, BaseProps } from '../../base';\nimport { classJoin, className } from '../../../util/className';\nimport { ProcessorType } from '../../../pipeline/processor';\nimport NativeSort from '../../../pipeline/sort/native';\nimport { SortStore, SortStoreState } from './store';\nimport { Comparator, TCell, TColumnSort } from '../../../types';\nimport { SortActions } from './actions';\nimport ServerSort from '../../../pipeline/sort/server';\n\n// column specific config\nexport interface SortConfig {\n  enabled?: boolean;\n  compare?: Comparator<TCell>;\n}\n\n// generic sort config:\n//\n// Config {\n//    sort: GenericSortConfig\n// }\n//\nexport interface GenericSortConfig {\n  multiColumn?: boolean;\n  server?: {\n    url?: (prevUrl: string, columns: TColumnSort[]) => string;\n    body?: (prevBody: BodyInit, columns: TColumnSort[]) => BodyInit;\n  };\n}\n\nexport interface SortProps extends BaseProps {\n  // column index\n  index: number;\n}\n\ninterface SortState {\n  direction: 1 | -1 | 0;\n}\n\nexport class Sort extends BaseComponent<SortProps & SortConfig, SortState> {\n  private readonly sortProcessor: NativeSort | ServerSort;\n  private readonly actions: SortActions;\n  private readonly store: SortStore;\n  private readonly updateStateFn: (...args) => void;\n  private updateSortProcessorFn: (sortedColumns: SortStoreState) => void;\n\n  constructor(props: SortProps & SortConfig, context) {\n    super(props, context);\n\n    this.actions = new SortActions(this.config.dispatcher);\n    this.store = new SortStore(this.config.dispatcher);\n\n    if (props.enabled) {\n      this.sortProcessor = this.getOrCreateSortProcessor();\n      this.updateStateFn = this.updateState.bind(this);\n      this.store.on('updated', this.updateStateFn);\n      this.state = { direction: 0 };\n    }\n  }\n\n  componentWillUnmount(): void {\n    this.config.pipeline.unregister(this.sortProcessor);\n\n    this.store.off('updated', this.updateStateFn);\n    if (this.updateSortProcessorFn)\n      this.store.off('updated', this.updateSortProcessorFn);\n  }\n\n  /**\n   * Sets the internal state of component\n   */\n  private updateState(): void {\n    const currentColumn = this.store.state.find(\n      (x) => x.index === this.props.index,\n    );\n\n    if (!currentColumn) {\n      this.setState({\n        direction: 0,\n      });\n    } else {\n      this.setState({\n        direction: currentColumn.direction,\n      });\n    }\n  }\n\n  private updateSortProcessor(sortedColumns: SortStoreState) {\n    // updates the Sorting processor\n    this.sortProcessor.setProps({\n      columns: sortedColumns,\n    });\n  }\n\n  private getOrCreateSortProcessor(): NativeSort {\n    let processorType = ProcessorType.Sort;\n\n    if (this.config.sort && typeof this.config.sort.server === 'object') {\n      processorType = ProcessorType.ServerSort;\n    }\n\n    const processors = this.config.pipeline.getStepsByType(processorType);\n\n    // my assumption is that we only have ONE sorting processor in the\n    // entire pipeline and that's why I'm displaying a warning here\n    let processor;\n\n    // A sort process is already registered\n    if (processors.length > 0) {\n      processor = processors[0];\n    } else {\n      // let's create a new sort processor\n\n      // this event listener is here because\n      // we want to subscribe to the sort store only once\n      this.updateSortProcessorFn = this.updateSortProcessor.bind(this);\n      this.store.on('updated', this.updateSortProcessorFn);\n\n      if (processorType === ProcessorType.ServerSort) {\n        processor = new ServerSort({\n          columns: this.store.state,\n          ...this.config.sort.server,\n        });\n      } else {\n        processor = new NativeSort({\n          columns: this.store.state,\n        });\n      }\n\n      this.config.pipeline.register(processor);\n    }\n\n    return processor;\n  }\n\n  changeDirection(e: JSX.TargetedMouseEvent<HTMLButtonElement>): void {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // to sort two or more columns at the same time\n    this.actions.sortToggle(\n      this.props.index,\n      e.shiftKey === true && this.config.sort.multiColumn,\n      this.props.compare,\n    );\n  }\n\n  render() {\n    if (!this.props.enabled) {\n      return null;\n    }\n\n    const direction = this.state.direction;\n    let sortClassName = 'neutral';\n\n    if (direction === 1) {\n      sortClassName = 'asc';\n    } else if (direction === -1) {\n      sortClassName = 'desc';\n    }\n\n    return (\n      <button\n        // because the corresponding <th> has tabIndex=0\n        tabIndex={-1}\n        aria-label={this._(`sort.sort${direction === 1 ? 'Desc' : 'Asc'}`)}\n        title={this._(`sort.sort${direction === 1 ? 'Desc' : 'Asc'}`)}\n        className={classJoin(\n          className('sort'),\n          className('sort', sortClassName),\n        )}\n        onClick={this.changeDirection.bind(this)}\n      />\n    );\n  }\n}\n","import { createRef, h, JSX } from 'preact';\n\nimport { BaseComponent, BaseProps } from '../base';\nimport { classJoin, className } from '../../util/className';\nimport { TColumn } from '../../types';\nimport { Sort } from '../plugin/sort/sort';\n\nexport interface THProps extends BaseProps {\n  index: number;\n  column: TColumn;\n}\n\nexport class TH extends BaseComponent<THProps, {}> {\n  private sortRef = createRef();\n\n  private isSortable(): boolean {\n    return this.props.column.sort.enabled;\n  }\n\n  private onClick(e: JSX.TargetedMouseEvent<HTMLInputElement>): void {\n    e.stopPropagation();\n\n    if (this.isSortable()) {\n      this.sortRef.current.changeDirection(e);\n    }\n  }\n\n  private keyDown(e: JSX.TargetedMouseEvent<HTMLInputElement>): void {\n    if (this.isSortable() && e.which === 13) {\n      this.onClick(e);\n    }\n  }\n\n  render() {\n    const props = {};\n\n    if (this.isSortable()) {\n      props['tabIndex'] = 0;\n    }\n\n    return (\n      <th\n        className={classJoin(\n          className('th'),\n          this.isSortable() ? className('th', 'sort') : null,\n          this.props.column.fixedHeader ? className('th', 'fixed') : null,\n          this.config.className.th,\n        )}\n        onClick={this.onClick.bind(this)}\n        style={{\n          ...this.config.style.th,\n          ...{ width: this.props.column.width },\n        }}\n        onKeyDown={this.keyDown.bind(this)}\n        {...props}\n      >\n        {this.props.column.name}\n        {this.isSortable() && (\n          <Sort\n            ref={this.sortRef}\n            index={this.props.index}\n            {...this.props.column.sort}\n          />\n        )}\n      </th>\n    );\n  }\n}\n","import { h } from 'preact';\n\nimport { TR } from './tr';\nimport { BaseComponent, BaseProps } from '../base';\nimport { TH } from './th';\nimport { className } from '../../util/className';\nimport Header from '../../header';\n\ninterface THeadProps extends BaseProps {\n  header: Header;\n}\n\nexport class THead extends BaseComponent<THeadProps, {}> {\n  render() {\n    if (this.props.header) {\n      return (\n        <thead key={this.props.header.id} className={className('thead')}>\n          <TR>\n            {this.props.header.columns.map((col, i) => {\n              return <TH column={col} index={i} />;\n            })}\n          </TR>\n        </thead>\n      );\n    }\n\n    return null;\n  }\n}\n","import { h } from 'preact';\n\nimport Tabular from '../../tabular';\nimport { TBody } from './tbody';\nimport { THead } from './thead';\nimport { BaseComponent, BaseProps } from '../base';\nimport Header from '../../header';\nimport { classJoin, className } from '../../util/className';\nimport { Status } from '../../types';\n\ninterface TableProps extends BaseProps {\n  data: Tabular;\n  status: Status;\n  header?: Header;\n  width: string;\n  height: string;\n}\n\nexport class Table extends BaseComponent<TableProps, {}> {\n  render() {\n    return (\n      <table\n        role=\"grid\"\n        className={classJoin(className('table'), this.config.className.table)}\n        style={{\n          ...this.config.style.table,\n          ...{\n            width: this.props.width,\n            height: this.props.height,\n          },\n        }}\n      >\n        <THead header={this.props.header} />\n        <TBody\n          data={this.props.data}\n          status={this.props.status}\n          header={this.props.header}\n        />\n      </table>\n    );\n  }\n}\n","import { h } from 'preact';\n\nimport { BaseComponent } from './base';\nimport { classJoin, className } from '../util/className';\nimport { useRef } from 'preact/hooks';\nimport { PluginPosition, PluginRenderer } from '../plugin';\n\ninterface HeaderContainerState {\n  isActive: boolean;\n}\n\nexport class HeaderContainer extends BaseComponent<{}, HeaderContainerState> {\n  private headerRef = useRef(null);\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      isActive: true,\n    };\n  }\n\n  componentDidMount() {\n    if (this.headerRef.current.children.length === 0) {\n      this.setState({\n        isActive: false,\n      });\n    }\n  }\n\n  render() {\n    if (this.state.isActive) {\n      return (\n        <div\n          ref={this.headerRef}\n          className={classJoin(className('head'), this.config.className.header)}\n          style={{ ...this.config.style.header }}\n        >\n          <PluginRenderer position={PluginPosition.Header} />\n        </div>\n      );\n    }\n\n    return null;\n  }\n}\n","import { h } from 'preact';\n\nimport { BaseComponent } from './base';\nimport { classJoin, className } from '../util/className';\nimport { useRef } from 'preact/hooks';\nimport { PluginPosition, PluginRenderer } from '../plugin';\n\ninterface FooterContainerState {\n  isActive: boolean;\n}\n\nexport class FooterContainer extends BaseComponent<{}, FooterContainerState> {\n  private footerRef = useRef(null);\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      isActive: true,\n    };\n  }\n\n  componentDidMount() {\n    if (this.footerRef.current.children.length === 0) {\n      this.setState({\n        isActive: false,\n      });\n    }\n  }\n\n  render() {\n    if (this.state.isActive) {\n      return (\n        <div\n          ref={this.footerRef}\n          className={classJoin(\n            className('footer'),\n            this.config.className.footer,\n          )}\n          style={{ ...this.config.style.footer }}\n        >\n          <PluginRenderer position={PluginPosition.Footer} />\n        </div>\n      );\n    }\n\n    return null;\n  }\n}\n","import { h, createContext, Context } from 'preact';\n\nimport Tabular from '../tabular';\nimport { BaseComponent, BaseProps } from './base';\nimport { classJoin, className } from '../util/className';\nimport { Status } from '../types';\nimport { Table } from './table/table';\nimport { HeaderContainer } from './headerContainer';\nimport { FooterContainer } from './footerContainer';\nimport Pipeline from '../pipeline/pipeline';\nimport Header from '../header';\nimport { Config } from '../config';\nimport log from '../util/log';\nimport { PipelineProcessor } from '../pipeline/processor';\n\ninterface ContainerProps extends BaseProps {\n  config: Config;\n  pipeline: Pipeline<Tabular>;\n  header?: Header;\n  width: string;\n  height: string;\n}\n\ninterface ContainerState {\n  status: Status;\n  header?: Header;\n  data?: Tabular;\n}\n\nexport class Container extends BaseComponent<ContainerProps, ContainerState> {\n  private readonly configContext: Context<Config>;\n  private processPipelineFn: (processor: PipelineProcessor<any, any>) => void;\n\n  constructor(props, context) {\n    super(props, context);\n\n    // global Config context which is passed to all components\n    this.configContext = createContext(null);\n\n    this.state = {\n      status: Status.Loading,\n      header: props.header,\n      data: null,\n    };\n  }\n\n  private async processPipeline() {\n    this.props.config.eventEmitter.emit('beforeLoad');\n\n    this.setState({\n      status: Status.Loading,\n    });\n\n    try {\n      const data = await this.props.pipeline.process();\n      this.setState({\n        data: data,\n        status: Status.Loaded,\n      });\n\n      this.props.config.eventEmitter.emit('load', data);\n    } catch (e) {\n      log.error(e);\n\n      this.setState({\n        status: Status.Error,\n        data: null,\n      });\n    }\n  }\n\n  async componentDidMount() {\n    const config = this.props.config;\n\n    // for the initial load\n    await this.processPipeline();\n\n    if (config.header && this.state.data && this.state.data.length) {\n      // now that we have the data, let's adjust columns width\n      // NOTE: that we only calculate the columns width once\n      this.setState({\n        header: config.header.adjustWidth(\n          config.container,\n          config.tempRef,\n          this.state.data,\n          config.autoWidth,\n        ),\n      });\n    }\n\n    this.processPipelineFn = this.processPipeline.bind(this);\n    this.props.pipeline.on('updated', this.processPipelineFn);\n  }\n\n  componentWillUnmount() {\n    this.props.pipeline.off('updated', this.processPipelineFn);\n  }\n\n  render() {\n    const configContext = this.configContext;\n\n    return (\n      <configContext.Provider value={this.props.config}>\n        <div\n          role=\"complementary\"\n          className={classJoin(\n            'gridjs',\n            className('container'),\n            this.state.status === Status.Loading ? className('loading') : null,\n            this.props.config.className.container,\n          )}\n          style={{\n            ...this.props.config.style.container,\n            ...{\n              width: this.props.width,\n            },\n          }}\n        >\n          {this.state.status === Status.Loading && (\n            <div className={className('loading-bar')} />\n          )}\n\n          <HeaderContainer />\n\n          <div\n            className={className('wrapper')}\n            style={{ width: this.props.width, height: this.props.height }}\n          >\n            <Table\n              data={this.state.data}\n              header={this.state.header}\n              width={this.props.width}\n              height={this.props.height}\n              status={this.state.status}\n            />\n          </div>\n\n          <FooterContainer />\n        </div>\n\n        <div\n          ref={this.props.config.tempRef}\n          id=\"gridjs-temp\"\n          className={className('temp')}\n        />\n      </configContext.Provider>\n    );\n  }\n}\n","import { Config, UserConfig } from './config';\nimport { h, render, VNode } from 'preact';\nimport { Container } from './view/container';\nimport log from './util/log';\nimport { EventEmitter } from './util/eventEmitter';\nimport { GridEvents } from './events';\nimport { PluginManager } from './plugin';\n\nclass Grid extends EventEmitter<GridEvents> {\n  public config: Config;\n  public plugin: PluginManager;\n\n  constructor(userConfig?: UserConfig) {\n    super();\n    this.config = new Config({ eventEmitter: this }).update(userConfig);\n    this.plugin = this.config.plugin;\n  }\n\n  public updateConfig(userConfig: Partial<UserConfig>): this {\n    this.config.update(userConfig);\n    return this;\n  }\n\n  createElement(): VNode {\n    return h(Container, {\n      config: this.config,\n      pipeline: this.config.pipeline,\n      header: this.config.header,\n      width: this.config.width,\n      height: this.config.height,\n    });\n  }\n\n  /**\n   * Uses the existing container and tries to clear the cache\n   * and re-render the existing Grid.js instance again. This is\n   * useful when a new config is set/updated.\n   *\n   */\n  forceRender(): this {\n    if (!this.config || !this.config.container) {\n      log.error(\n        'Container is empty. Make sure you call render() before forceRender()',\n        true,\n      );\n    }\n\n    // clear the pipeline cache\n    this.config.pipeline.clearCache();\n\n    // TODO: not sure if it's a good idea to render a null element but I couldn't find a better way\n    render(null, this.config.container);\n    render(this.createElement(), this.config.container);\n\n    return this;\n  }\n\n  /**\n   * Mounts the Grid.js instance to the container\n   * and renders the instance\n   *\n   * @param container\n   */\n  render(container: Element): this {\n    if (!container) {\n      log.error('Container element cannot be null', true);\n    }\n\n    if (container.childNodes.length > 0) {\n      log.error(\n        `The container element ${container} is not empty. Make sure the container is empty and call render() again`,\n      );\n      return this;\n    }\n\n    this.config.container = container;\n    render(this.createElement(), container);\n\n    return this;\n  }\n}\n\nexport default Grid;\n","import * as React from \"react\";\nimport { Component, createRef, RefObject } from \"react\";\nimport { Grid as Gridjs, UserConfig } from \"gridjs\";\n\nclass Grid extends Component<Partial<UserConfig>, {}> {\n  private wrapper: RefObject<HTMLDivElement> = createRef();\n  // Grid.js instance\n  private readonly instance = null;\n\n  constructor(props) {\n    super(props);\n\n    this.instance = new Gridjs(props || {});\n  }\n\n  getInstance(): Gridjs {\n    return this.instance;\n  }\n\n  componentDidMount() {\n    this.instance.render(this.wrapper.current);\n  }\n\n  componentDidUpdate() {\n    this.instance.updateConfig(this.props).forceRender();\n  }\n\n  render() {\n    return <div ref={this.wrapper} />;\n  }\n}\n\nexport default Grid;\n","import { h, createRef as gCreateRef, Component as gComponent } from \"gridjs\";\n\nimport ReactDOM from \"react-dom\";\n\nexport class ReactWrapper extends gComponent<{\n  element: any;\n  parent?: string;\n}> {\n  static defaultProps = {\n    parent: \"div\",\n  };\n\n  ref = gCreateRef();\n\n  componentDidMount() {\n    ReactDOM.render(this.props.element, this.ref.current);\n  }\n\n  render() {\n    return h(this.props.parent, { ref: this.ref });\n  }\n}\n\nexport function _(element: any, parent?: string) {\n  return h(ReactWrapper, {\n    element: element,\n    parent: parent,\n  });\n}\n","import React, { forwardRef, memo } from 'react'\nimport cx from 'classnames'\nimport PropTypes from 'prop-types'\nimport { useTheme } from '../../theme'\nimport Text from './Text'\n\nconst Link = memo(\n  forwardRef(function Link(props, ref) {\n    const theme = useTheme()\n    const { className, color = 'default', ...restProps } = props\n    const themedClassName = theme.getLinkClassName(color)\n\n    return (\n      <Text\n        is=\"a\"\n        ref={ref}\n        className={cx(className, themedClassName)}\n        textDecoration=\"underline\"\n        color={null}\n        {...restProps}\n      />\n    )\n  })\n)\n\nLink.propTypes = {\n  ...Text.propTypes,\n\n  /**\n   * This attribute names a relationship of the linked document to the current document.\n   * Common use case is: rel=\"noopener noreferrer\".\n   */\n  rel: PropTypes.string,\n\n  /**\n   * Specifies the URL of the linked resource. A URL might be absolute or relative.\n   */\n  href: PropTypes.string,\n\n  /**\n   * Target atrribute, common use case is target=\"_blank.\"\n   */\n  target: PropTypes.string,\n\n  /**\n   * The color (and styling) of the Link. Can be default, blue, green or neutral.\n   */\n  color: PropTypes.string,\n\n  /**\n   * Class name passed to the link.\n   * Only use if you know what you are doing.\n   */\n  className: PropTypes.string\n}\n\nexport default Link\n","import React, { forwardRef, memo } from 'react'\nimport PropTypes from 'prop-types'\nimport Box from 'ui-box'\nimport { useTheme } from '../../theme'\n\nconst Heading = memo(\n  forwardRef(function Heading(props, ref) {\n    const theme = useTheme()\n    const { marginTop, size = 500, ...restProps } = props\n    const {\n      marginTop: defaultMarginTop,\n      ...headingStyle\n    } = theme.getHeadingStyle(size)\n\n    let finalMarginTop = marginTop\n    if (marginTop === 'default') {\n      finalMarginTop = defaultMarginTop\n    }\n\n    return (\n      <Box\n        is=\"h2\"\n        ref={ref}\n        marginTop={finalMarginTop || 0}\n        marginBottom={0}\n        {...headingStyle}\n        {...restProps}\n      />\n    )\n  })\n)\n\nHeading.propTypes = {\n  /**\n   * Heading composes Box as the base.\n   */\n  ...Box.propTypes,\n\n  /**\n   * The size of the heading.\n   */\n  size: PropTypes.oneOf([100, 200, 300, 400, 500, 600, 700, 800, 900]),\n\n  /**\n   * Pass `default` to use the default margin top for that size.\n   */\n  marginTop: PropTypes.oneOfType([\n    PropTypes.bool,\n    PropTypes.number,\n    PropTypes.string\n  ])\n}\n\nexport default Heading\n","\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _default = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nexports.default = _default;\nmodule.exports = exports[\"default\"];","import React, { memo, forwardRef } from 'react'\nimport Text from './Text'\n\nconst Strong = memo(\n  forwardRef(function Strong(props, ref) {\n    return <Text is=\"strong\" fontWeight={600} {...props} ref={ref} />\n  })\n)\n\nStrong.propTypes = {\n  ...Text.propTypes\n}\n\nexport default Strong\n","import React, { memo, forwardRef } from 'react'\nimport cx from 'classnames'\nimport PropTypes from 'prop-types'\nimport { Strong } from '../../typography'\nimport { useTheme } from '../../theme'\n\nconst styles = {\n  display: 'inline-block',\n  boxSizing: 'border-box',\n  height: 16,\n  paddingTop: 0,\n  paddingRight: 6,\n  paddingBottom: 0,\n  paddingLeft: 6,\n  borderRadius: 2,\n  textAlign: 'center',\n  textDecoration: 'none',\n  textTransform: 'uppercase'\n}\n\nconst Badge = memo(\n  forwardRef(function Badge(props, ref) {\n    const theme = useTheme()\n\n    const {\n      className,\n      color = 'neutral',\n      isInteractive = false,\n      isSolid = false,\n      ...restProps\n    } = props\n\n    const themeProps = theme.getBadgeProps({ color, isSolid })\n    const appearance = isInteractive ? 'interactive' : 'default'\n    const classNames = cx(className, theme.getBadgeClassName(appearance))\n\n    return (\n      <Strong\n        ref={ref}\n        size={300}\n        {...styles}\n        {...themeProps}\n        {...restProps}\n        className={classNames}\n      />\n    )\n  })\n)\n\nBadge.propTypes = {\n  ...Strong.propTypes,\n\n  /**\n   * The color used for the badge.\n   */\n  color: PropTypes.string,\n\n  /**\n   * Whether or not to apply hover/focus/active styles\n   */\n  isInteractive: PropTypes.bool\n}\n\nexport default Badge\n","import React, { forwardRef, memo } from 'react'\nimport PropTypes from 'prop-types'\nimport Box from 'ui-box'\nimport { useTheme } from '../../theme'\n\nconst Paragraph = memo(\n  forwardRef(function Paragraph(props, ref) {\n    const theme = useTheme()\n    const {\n      size = 400,\n      color = 'default',\n      fontFamily = 'ui',\n      marginTop,\n      ...restProps\n    } = props\n\n    const {\n      marginTop: defaultMarginTop,\n      ...textStyle\n    } = theme.getParagraphStyle(size)\n\n    const finalMarginTop =\n      marginTop === 'default' ? defaultMarginTop : marginTop\n\n    return (\n      <Box\n        is=\"p\"\n        ref={ref}\n        color={theme.getTextColor(color)}\n        fontFamily={theme.getFontFamily(fontFamily)}\n        marginTop={finalMarginTop || 0}\n        marginBottom={0}\n        {...textStyle}\n        {...restProps}\n      />\n    )\n  })\n)\n\nParagraph.propTypes = {\n  /**\n   * Composes the Box component as the base.\n   */\n  ...Box.propTypes,\n\n  /**\n   * Size of the text style.\n   * Can be: 300, 400, 500.\n   */\n  size: PropTypes.oneOf([300, 400, 500]),\n\n  /**\n   * Font family.\n   * Can be: `ui`, `display` or `mono` or a custom font family.\n   */\n  fontFamily: PropTypes.string\n}\n\nexport default Paragraph\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import { Component } from 'react'\nimport canUseDom from 'dom-helpers/util/inDOM'\nimport ReactDOM from 'react-dom'\nimport PropTypes from 'prop-types'\n\nlet portalContainer\n\nexport default class Portal extends Component {\n  constructor() {\n    super()\n\n    // This fixes SSR\n    if (!canUseDom) return\n\n    if (!portalContainer) {\n      portalContainer = document.createElement('div')\n      portalContainer.setAttribute('evergreen-portal-container', '')\n      document.body.appendChild(portalContainer)\n    }\n\n    this.el = document.createElement('div')\n    portalContainer.appendChild(this.el)\n  }\n\n  componentWillUnmount() {\n    portalContainer.removeChild(this.el)\n  }\n\n  render() {\n    // This fixes SSR\n    if (!canUseDom) return null\n    return ReactDOM.createPortal(this.props.children, this.el)\n  }\n}\n\nPortal.propTypes = {\n  children: PropTypes.node.isRequired\n}\n","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default {\n  disabled: false\n};","import React from 'react';\nexport default React.createContext(null);","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport config from './config';\nimport { timeoutsShape } from './utils/PropTypes';\nimport TransitionGroupContext from './TransitionGroupContext';\nexport var UNMOUNTED = 'unmounted';\nexport var EXITED = 'exited';\nexport var ENTERING = 'entering';\nexport var ENTERED = 'entered';\nexport var EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  } // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n  ;\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n\n      if (nextStatus === ENTERING) {\n        this.performEnter(mounting);\n      } else {\n        this.performExit();\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n\n    var _ref2 = this.props.nodeRef ? [appearing] : [ReactDOM.findDOMNode(this), appearing],\n        maybeNode = _ref2[0],\n        maybeAppearing = _ref2[1];\n\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onEnter(maybeNode, maybeAppearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(maybeNode, maybeAppearing);\n\n      _this2.onTransitionEnd(enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(maybeNode, maybeAppearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit() {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts();\n    var maybeNode = this.props.nodeRef ? undefined : ReactDOM.findDOMNode(this); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onExit(maybeNode);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(maybeNode);\n\n      _this3.onTransitionEnd(timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(maybeNode);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(timeout, handler) {\n    this.setNextCallback(handler);\n    var node = this.props.nodeRef ? this.props.nodeRef.current : ReactDOM.findDOMNode(this);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      var _ref3 = this.props.nodeRef ? [this.nextCallback] : [node, this.nextCallback],\n          maybeNode = _ref3[0],\n          maybeNextCallback = _ref3[1];\n\n      this.props.addEndListener(maybeNode, maybeNextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        _in = _this$props.in,\n        _mountOnEnter = _this$props.mountOnEnter,\n        _unmountOnExit = _this$props.unmountOnExit,\n        _appear = _this$props.appear,\n        _enter = _this$props.enter,\n        _exit = _this$props.exit,\n        _timeout = _this$props.timeout,\n        _addEndListener = _this$props.addEndListener,\n        _onEnter = _this$props.onEnter,\n        _onEntering = _this$props.onEntering,\n        _onEntered = _this$props.onEntered,\n        _onExit = _this$props.onExit,\n        _onExiting = _this$props.onExiting,\n        _onExited = _this$props.onExited,\n        _nodeRef = _this$props.nodeRef,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"in\", \"mountOnEnter\", \"unmountOnExit\", \"appear\", \"enter\", \"exit\", \"timeout\", \"addEndListener\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"nodeRef\"]);\n\n    return (\n      /*#__PURE__*/\n      // allows for nested Transitions\n      React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, typeof children === 'function' ? children(status, childProps) : React.cloneElement(React.Children.only(children), childProps))\n    );\n  };\n\n  return Transition;\n}(React.Component);\n\nTransition.contextType = TransitionGroupContext;\nTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * A React reference to DOM element that need to transition:\n   * https://stackoverflow.com/a/51127130/4671932\n   *\n   *   - When `nodeRef` prop is used, `node` is not passed to callback functions\n   *      (e.g. `onEnter`) because user already has direct access to the node.\n   *   - When changing `key` prop of `Transition` in a `TransitionGroup` a new\n   *     `nodeRef` need to be provided to `Transition` with changed `key` prop\n   *     (see\n   *     [test/CSSTransition-test.js](https://github.com/reactjs/react-transition-group/blob/13435f897b3ab71f6e19d724f145596f5910581c/test/CSSTransition-test.js#L362-L437)).\n   */\n  nodeRef: PropTypes.shape({\n    current: typeof Element === 'undefined' ? PropTypes.any : PropTypes.instanceOf(Element)\n  }),\n\n  /**\n   * A `function` child can be used instead of a React element. This function is\n   * called with the current transition status (`'entering'`, `'entered'`,\n   * `'exiting'`, `'exited'`), which can be used to apply context\n   * specific props to a component.\n   *\n   * ```jsx\n   * <Transition in={this.state.in} timeout={150}>\n   *   {state => (\n   *     <MyComponent className={`fade fade-${state}`} />\n   *   )}\n   * </Transition>\n   * ```\n   */\n  children: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element.isRequired]).isRequired,\n\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in: PropTypes.bool,\n\n  /**\n   * By default the child component is mounted immediately along with\n   * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n   * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n   */\n  mountOnEnter: PropTypes.bool,\n\n  /**\n   * By default the child component stays mounted after it reaches the `'exited'` state.\n   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * By default the child component does not perform the enter transition when\n   * it first mounts, regardless of the value of `in`. If you want this\n   * behavior, set both `appear` and `in` to `true`.\n   *\n   * > **Note**: there are no special appear states like `appearing`/`appeared`, this prop\n   * > only adds an additional enter transition. However, in the\n   * > `<CSSTransition>` component that first enter transition does result in\n   * > additional `.appear-*` classes, that way you can choose to style it\n   * > differently.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Enable or disable enter transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * Enable or disable exit transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * The duration of the transition, in milliseconds.\n   * Required unless `addEndListener` is provided.\n   *\n   * You may specify a single timeout for all transitions:\n   *\n   * ```jsx\n   * timeout={500}\n   * ```\n   *\n   * or individually:\n   *\n   * ```jsx\n   * timeout={{\n   *  appear: 500,\n   *  enter: 300,\n   *  exit: 500,\n   * }}\n   * ```\n   *\n   * - `appear` defaults to the value of `enter`\n   * - `enter` defaults to `0`\n   * - `exit` defaults to `0`\n   *\n   * @type {number | { enter?: number, exit?: number, appear?: number }}\n   */\n  timeout: function timeout(props) {\n    var pt = timeoutsShape;\n    if (!props.addEndListener) pt = pt.isRequired;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return pt.apply(void 0, [props].concat(args));\n  },\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning\n   * DOM node and a `done` callback. Allows for more fine grained transition end\n   * logic. Timeouts are still used as a fallback if provided.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * ```jsx\n   * addEndListener={(node, done) => {\n   *   // use the css transitionend event to mark the finish of a transition\n   *   node.addEventListener('transitionend', done, false);\n   * }}\n   * ```\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entered\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExited: PropTypes.func\n} : {}; // Name the function so it is clearer in the documentation\n\nfunction noop() {}\n\nTransition.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = UNMOUNTED;\nTransition.EXITED = EXITED;\nTransition.ENTERING = ENTERING;\nTransition.ENTERED = ENTERED;\nTransition.EXITING = EXITING;\nexport default Transition;","import React from 'react'\nimport { StackingOrder } from '../../constants'\n\n/**\n * Context used to manage the layering of z-indexes of components.\n */\nconst StackingContext = React.createContext(StackingOrder.STACKING_CONTEXT)\nexport default StackingContext\n","import React, { useContext, memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { StackingOrder } from '../../constants'\nimport StackingContext from './StackingContext'\n\nconst Stack = memo(function Stack({\n  children,\n  value = StackingOrder.STACKING_CONTEXT\n}) {\n  const previousValue = useContext(StackingContext)\n  const currentValue = Math.max(value, previousValue)\n  const nextValue = currentValue + 1\n\n  return (\n    <StackingContext.Provider value={nextValue}>\n      {children(currentValue)}\n    </StackingContext.Provider>\n  )\n})\n\nStack.propTypes = {\n  /**\n   * Function that takes the current z-index and returns a React Node.\n   * (zIndex) => ReactNode.\n   */\n  children: PropTypes.func.isRequired,\n\n  /**\n   * Set the value of the stack. This will increment for children.\n   */\n  value: PropTypes.number\n}\n\nexport default Stack\n"],"sourceRoot":""}